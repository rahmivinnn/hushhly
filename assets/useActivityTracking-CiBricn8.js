import{w as m,b as d,r as o}from"./index-BnT946GU.js";import{a}from"./activityTrackingService-Bml4NAu5.js";const p=()=>{const{user:n}=m(),s=d(),t=(n==null?void 0:n.id)||"guest",r=o.useRef(!0);return o.useEffect(()=>{if(r.current){a.startSession(t),r.current=!1;const e=()=>{a.endSession(t)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e),a.endSession(t)}}},[t]),o.useEffect(()=>{let e="Unknown Page";switch(s.pathname){case"/":case"/splash":e="Splash Screen";break;case"/home":e="Home";break;case"/meditation":e="Meditation";break;case"/meditation-101":e="Meditation 101";break;case"/sleep-stories":e="Sleep Stories";break;case"/work":e="Your Guided Day";break;case"/community":e="Community";break;case"/profile":e="Profile";break;default:const i=s.pathname.split("/").filter(Boolean);i.length>0&&(e=i[i.length-1].split("-").map(c=>c.charAt(0).toUpperCase()+c.slice(1)).join(" "))}a.trackPageVisit(t,s.pathname,e)},[s.pathname,t]),{startMeditationSession:(e,i)=>a.startMeditationSession(t,e,i),endMeditationSession:(e,i=!0)=>a.endMeditationSession(t,e,i),getActivitySummary:()=>a.getActivitySummary(t),getFormattedActivitySummary:()=>a.getFormattedActivitySummary(t),getRecentPageVisits:e=>a.getRecentPageVisits(t,e),getMeditationSessions:e=>a.getMeditationSessions(t,e)}};export{p as u};
//# sourceMappingURL=useActivityTracking-CiBricn8.js.map
