{"version":3,"file":"SubscriptionScreen-Bpc_P2HY.js","sources":["../../node_modules/lucide-react/dist/esm/icons/info.js","../../src/types/promo.ts","../../src/hooks/usePromoCode.ts","../../src/pages/SubscriptionScreen.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.462.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Info = createLucideIcon(\"Info\", [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M12 16v-4\", key: \"1dtifu\" }],\n  [\"path\", { d: \"M12 8h.01\", key: \"e9boi3\" }]\n]);\n\nexport { Info as default };\n//# sourceMappingURL=info.js.map\n","export interface PromoCode {\r\n  code: string;\r\n  discount: string;\r\n  subscriptionTier: string[];\r\n  rules: string;\r\n  isValid: boolean;\r\n  discountType: 'percentage' | 'fixed' | 'free';\r\n  discountValue: number;\r\n  duration: 'lifetime' | 'months' | 'days' | 'one-time';\r\n  durationValue?: number;\r\n}\r\n\r\nexport const PROMO_CODES: { [key: string]: PromoCode } = {\r\n  'FREE100': {\r\n    code: 'FREE100',\r\n    discount: '100% off for life',\r\n    subscriptionTier: ['Premium'],\r\n    rules: 'First 100 users only',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 100,\r\n    duration: 'lifetime'\r\n  },\r\n  'EARLYBIRD50': {\r\n    code: 'EARLYBIRD50',\r\n    discount: '50% off for life',\r\n    subscriptionTier: ['Premium'],\r\n    rules: 'Next 500 users only',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 50,\r\n    duration: 'lifetime'\r\n  },\r\n  'NAPTIME30': {\r\n    code: 'NAPTIME30',\r\n    discount: '30% off 6 months',\r\n    subscriptionTier: ['Monthly', 'Annual'],\r\n    rules: 'For parents with little time',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 30,\r\n    duration: 'months',\r\n    durationValue: 6\r\n  },\r\n  'DAILY5': {\r\n    code: 'DAILY5',\r\n    discount: 'Free for 5 days',\r\n    subscriptionTier: ['Any'],\r\n    rules: 'New users only',\r\n    isValid: true,\r\n    discountType: 'free',\r\n    discountValue: 100,\r\n    duration: 'days',\r\n    durationValue: 5\r\n  },\r\n  'SLEEPEASY': {\r\n    code: 'SLEEPEASY',\r\n    discount: '20% off first month',\r\n    subscriptionTier: ['Sleep Plan', 'Premium'],\r\n    rules: 'One-time use',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 20,\r\n    duration: 'months',\r\n    durationValue: 1\r\n  },\r\n  'RESET10': {\r\n    code: 'RESET10',\r\n    discount: '10% off next month',\r\n    subscriptionTier: ['Monthly'],\r\n    rules: 'For inactive users (>30 days)',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 10,\r\n    duration: 'months',\r\n    durationValue: 1\r\n  },\r\n  'MINDFULFAM': {\r\n    code: 'MINDFULFAM',\r\n    discount: '30% off family plan',\r\n    subscriptionTier: ['Family Plan'],\r\n    rules: 'New family signups only',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 30,\r\n    duration: 'lifetime'\r\n  },\r\n  'MUMTIME25': {\r\n    code: 'MUMTIME25',\r\n    discount: '25% off 3 months',\r\n    subscriptionTier: ['Monthly', 'Annual'],\r\n    rules: 'Seasonal (Mother\\'s Day)',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 25,\r\n    duration: 'months',\r\n    durationValue: 3\r\n  },\r\n  'FOURTHTHRIMETER': {\r\n    code: 'FOURTHTHRIMETER',\r\n    discount: '50% off 3 months',\r\n    subscriptionTier: ['Monthly'],\r\n    rules: 'For new moms (via onboarding tag)',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 50,\r\n    duration: 'months',\r\n    durationValue: 3\r\n  },\r\n  'REFOCUS2025': {\r\n    code: 'REFOCUS2025',\r\n    discount: '25% off annual',\r\n    subscriptionTier: ['Annual'],\r\n    rules: 'Valid Jan 1-31 only',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 25,\r\n    duration: 'months',\r\n    durationValue: 12\r\n  },\r\n  'GIFTWELLNESS': {\r\n    code: 'GIFTWELLNESS',\r\n    discount: '100% off 1 month',\r\n    subscriptionTier: ['Monthly'],\r\n    rules: 'Activated on referral or gift checkout',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 100,\r\n    duration: 'months',\r\n    durationValue: 1\r\n  },\r\n  'BREATHEAGAIN': {\r\n    code: 'BREATHEAGAIN',\r\n    discount: '100% off 1 month',\r\n    subscriptionTier: ['Monthly'],\r\n    rules: 'Offer after cancellation',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 100,\r\n    duration: 'months',\r\n    durationValue: 1\r\n  },\r\n  'CALMTOGETHER': {\r\n    code: 'CALMTOGETHER',\r\n    discount: 'Second user free',\r\n    subscriptionTier: ['Monthly'],\r\n    rules: 'Applies to paired signups only',\r\n    isValid: true,\r\n    discountType: 'free',\r\n    discountValue: 100,\r\n    duration: 'lifetime'\r\n  },\r\n  'GRATITUDE10': {\r\n    code: 'GRATITUDE10',\r\n    discount: '10% off all plans',\r\n    subscriptionTier: ['Any'],\r\n    rules: 'Valid during Thanksgiving week',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 10,\r\n    duration: 'lifetime'\r\n  },\r\n  'SOFTLAUNCH': {\r\n    code: 'SOFTLAUNCH',\r\n    discount: '100% off for 3 months',\r\n    subscriptionTier: ['Premium'],\r\n    rules: 'Beta users only',\r\n    isValid: true,\r\n    discountType: 'percentage',\r\n    discountValue: 100,\r\n    duration: 'months',\r\n    durationValue: 3\r\n  }\r\n}; ","import { useState } from 'react';\r\nimport { PROMO_CODES, PromoCode } from '@/types/promo';\r\n\r\ninterface UsePromoCodeReturn {\r\n  applyPromoCode: (code: string, plan: string) => { \r\n    isValid: boolean;\r\n    message: string;\r\n    discount?: number;\r\n    discountDuration?: string;\r\n    promoDetails?: PromoCode;\r\n  };\r\n  removePromoCode: () => void;\r\n  activePromo: PromoCode | null;\r\n  calculateDiscountedPrice: (originalPrice: number) => number;\r\n}\r\n\r\nexport const usePromoCode = (): UsePromoCodeReturn => {\r\n  const [activePromo, setActivePromo] = useState<PromoCode | null>(null);\r\n\r\n  const applyPromoCode = (code: string, plan: string) => {\r\n    const upperCode = code.toUpperCase();\r\n    const promoCode = PROMO_CODES[upperCode];\r\n\r\n    if (!promoCode) {\r\n      return {\r\n        isValid: false,\r\n        message: 'Invalid promo code'\r\n      };\r\n    }\r\n\r\n    if (!promoCode.isValid) {\r\n      return {\r\n        isValid: false,\r\n        message: 'This promo code has expired'\r\n      };\r\n    }\r\n\r\n    // Check if the promo code is valid for the selected plan\r\n    if (!promoCode.subscriptionTier.includes(plan) && !promoCode.subscriptionTier.includes('Any')) {\r\n      return {\r\n        isValid: false,\r\n        message: `This promo code is not valid for ${plan} plan`\r\n      };\r\n    }\r\n\r\n    setActivePromo(promoCode);\r\n    \r\n    return {\r\n      isValid: true,\r\n      message: `${promoCode.discount} applied successfully!`,\r\n      discount: promoCode.discountValue,\r\n      discountDuration: promoCode.duration,\r\n      promoDetails: promoCode\r\n    };\r\n  };\r\n\r\n  const removePromoCode = () => {\r\n    setActivePromo(null);\r\n  };\r\n\r\n  const calculateDiscountedPrice = (originalPrice: number): number => {\r\n    if (!activePromo) return originalPrice;\r\n\r\n    if (activePromo.discountType === 'free') return 0;\r\n\r\n    if (activePromo.discountType === 'percentage') {\r\n      const discountAmount = (originalPrice * activePromo.discountValue) / 100;\r\n      return originalPrice - discountAmount;\r\n    }\r\n\r\n    if (activePromo.discountType === 'fixed') {\r\n      return Math.max(0, originalPrice - activePromo.discountValue);\r\n    }\r\n\r\n    return originalPrice;\r\n  };\r\n\r\n  return {\r\n    applyPromoCode,\r\n    removePromoCode,\r\n    activePromo,\r\n    calculateDiscountedPrice\r\n  };\r\n}; ","import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { useToast } from '@/hooks/use-toast';\r\nimport { paymentService, PaymentMethod, SubscriptionPlan } from '@/services/paymentService';\r\nimport { usePromoCode } from '@/hooks/usePromoCode';\r\nimport { X, ArrowLeft, Check, Info } from 'lucide-react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\n\r\nconst SubscriptionScreen: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n  const [selectedPlan, setSelectedPlan] = useState<SubscriptionPlan>('annual');\r\n  const [promoCode, setPromoCode] = useState('');\r\n  const [showPaymentModal, setShowPaymentModal] = useState(false);\r\n  const [processingPayment, setProcessingPayment] = useState(false);\r\n  const [paymentStep, setPaymentStep] = useState<'select' | 'processing' | 'verifying' | 'success'>('select');\r\n  const [paymentSuccess, setPaymentSuccess] = useState(false);\r\n  const { applyPromoCode, removePromoCode, activePromo, calculateDiscountedPrice } = usePromoCode();\r\n\r\n  const prices = {\r\n    annual: 59.99,\r\n    monthly: 7.99\r\n  };\r\n\r\n  // Check if user is already logged in\r\n  useEffect(() => {\r\n    const user = localStorage.getItem('user');\r\n    if (!user) {\r\n      // Redirect to sign in if not logged in\r\n      toast({\r\n        title: \"Please sign in\",\r\n        description: \"You need to sign in before subscribing\"\r\n      });\r\n      navigate('/sign-in');\r\n    }\r\n  }, []);\r\n\r\n  const handleSubscribe = () => {\r\n    setShowPaymentModal(true);\r\n  };\r\n\r\n  const handlePayment = async (method: PaymentMethod) => {\r\n    setProcessingPayment(true);\r\n    setPaymentStep('processing');\r\n\r\n    try {\r\n      // Get user data\r\n      const userData = localStorage.getItem('user');\r\n      if (!userData) {\r\n        throw new Error('User not found');\r\n      }\r\n\r\n      const user = JSON.parse(userData);\r\n\r\n      // Process payment - add a small delay to simulate initial processing\r\n      await new Promise(resolve => setTimeout(resolve, 1500));\r\n\r\n      const paymentResult = await paymentService.processPayment(\r\n        selectedPlan,\r\n        { method },\r\n        activePromo?.code\r\n      );\r\n\r\n      if (paymentResult.success && paymentResult.subscriptionDetails) {\r\n        setPaymentStep('verifying');\r\n\r\n        // Verify payment\r\n        const isVerified = await paymentService.verifyPayment(paymentResult.paymentId || '');\r\n\r\n        if (isVerified) {\r\n          // Save subscription to user profile\r\n          const saved = paymentService.saveSubscription(\r\n            user.email,\r\n            paymentResult.subscriptionDetails\r\n          );\r\n\r\n          if (saved) {\r\n            // Add a small delay before showing success to make it feel more realistic\r\n            await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n            setPaymentStep('success');\r\n            setPaymentSuccess(true);\r\n\r\n            // Show success message and redirect after a delay\r\n            setTimeout(() => {\r\n              setShowPaymentModal(false);\r\n              toast({\r\n                title: \"Subscription Activated\",\r\n                description: `Your ${selectedPlan} subscription has been activated successfully!`\r\n              });\r\n              navigate('/home');\r\n            }, 3000);\r\n          } else {\r\n            throw new Error('Failed to save subscription');\r\n          }\r\n        } else {\r\n          throw new Error('Payment verification failed. Please try again or contact support.');\r\n        }\r\n      } else {\r\n        throw new Error(paymentResult.error || 'Payment failed. Please try again later.');\r\n      }\r\n    } catch (error) {\r\n      console.error('Payment error:', error);\r\n      toast({\r\n        title: \"Payment Failed\",\r\n        description: error instanceof Error ? error.message : \"An error occurred during payment processing\",\r\n        variant: \"destructive\"\r\n      });\r\n      setProcessingPayment(false);\r\n      setPaymentStep('select');\r\n    }\r\n  };\r\n\r\n  const handlePromoCodeSubmit = () => {\r\n    if (!promoCode) {\r\n      toast({\r\n        title: \"Missing Code\",\r\n        description: \"Please enter a promo code\",\r\n        variant: \"destructive\"\r\n      });\r\n      return;\r\n    }\r\n\r\n    // Convert promo code to uppercase to ensure case-insensitive matching\r\n    const normalizedCode = promoCode.trim().toUpperCase();\r\n    const result = applyPromoCode(normalizedCode, selectedPlan === 'annual' ? 'Annual' : 'Monthly');\r\n\r\n    if (result.isValid) {\r\n      toast({\r\n        title: \"Promo Code Applied\",\r\n        description: result.message\r\n      });\r\n      // Clear the input field after successful application\r\n      setPromoCode('');\r\n    } else {\r\n      toast({\r\n        title: \"Invalid Code\",\r\n        description: result.message,\r\n        variant: \"destructive\"\r\n      });\r\n    }\r\n  };\r\n\r\n  const getDiscountedPrice = (originalPrice: number) => {\r\n    return calculateDiscountedPrice(originalPrice);\r\n  };\r\n\r\n  const handleExit = () => {\r\n    navigate('/home');\r\n    toast({\r\n      title: \"Subscription Skipped\",\r\n      description: \"You can subscribe anytime from your profile.\"\r\n    });\r\n  };\r\n\r\n  const [showInfoTooltip, setShowInfoTooltip] = useState(false);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-blue-400 to-blue-600 p-6 flex flex-col relative\">\r\n      {/* Exit Button */}\r\n      <motion.button\r\n        className=\"absolute top-4 left-4 bg-white/20 p-2 rounded-full text-white hover:bg-white/30 transition-colors z-10\"\r\n        onClick={handleExit}\r\n        whileHover={{ scale: 1.1 }}\r\n        whileTap={{ scale: 0.9 }}\r\n      >\r\n        <X size={24} />\r\n      </motion.button>\r\n\r\n      {/* Back Button */}\r\n      <motion.button\r\n        className=\"absolute top-4 right-4 bg-white/20 p-2 rounded-full text-white hover:bg-white/30 transition-colors z-10\"\r\n        onClick={() => navigate(-1)}\r\n        whileHover={{ scale: 1.1 }}\r\n        whileTap={{ scale: 0.9 }}\r\n      >\r\n        <ArrowLeft size={24} />\r\n      </motion.button>\r\n\r\n      {/* Header */}\r\n      <motion.div\r\n        className=\"text-center text-white mb-8 mt-8\"\r\n        initial={{ opacity: 0, y: -20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        transition={{ duration: 0.5 }}\r\n      >\r\n        <h1 className=\"text-2xl font-bold mb-2\">Experience Hushhly for Free</h1>\r\n        <p className=\"text-lg opacity-90\">\r\n          Discover new daily meditations and soothing bedtime stories tailored to your journey.\r\n        </p>\r\n      </motion.div>\r\n\r\n      {/* Subscription Options */}\r\n      <div className=\"space-y-4 flex-1\">\r\n        {/* Annual Plan */}\r\n        <motion.button\r\n          onClick={() => setSelectedPlan('annual')}\r\n          className={`w-full p-4 rounded-xl ${\r\n            selectedPlan === 'annual'\r\n              ? 'bg-white text-blue-600'\r\n              : 'bg-white/20 text-white'\r\n          } transition-all duration-200 relative overflow-hidden`}\r\n          whileHover={{ scale: 1.02 }}\r\n          whileTap={{ scale: 0.98 }}\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.3 }}\r\n        >\r\n          {selectedPlan === 'annual' && (\r\n            <motion.div\r\n              className=\"absolute inset-0 bg-white\"\r\n              layoutId=\"selectedPlan\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              style={{ zIndex: -1 }}\r\n            />\r\n          )}\r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"text-left\">\r\n              <div className=\"font-bold text-lg\">Premium Annual</div>\r\n              <div className=\"text-sm opacity-80\">$59.99/year</div>\r\n              {activePromo && selectedPlan === 'annual' && (\r\n                <div className=\"text-xs text-green-600 mt-1 font-medium\">\r\n                  {getDiscountedPrice(prices.annual).toFixed(2)} with discount\r\n                </div>\r\n              )}\r\n            </div>\r\n            {selectedPlan === 'annual' && (\r\n              <motion.div\r\n                className=\"text-sm font-bold px-2 py-1 bg-blue-100 text-blue-600 rounded flex items-center\"\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\r\n              >\r\n                <Check size={14} className=\"mr-1\" />\r\n                Best value\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n        </motion.button>\r\n\r\n        {/* Monthly Plan */}\r\n        <motion.button\r\n          onClick={() => setSelectedPlan('monthly')}\r\n          className={`w-full p-4 rounded-xl ${\r\n            selectedPlan === 'monthly'\r\n              ? 'bg-white text-blue-600'\r\n              : 'bg-white/20 text-white'\r\n          } transition-all duration-200 relative overflow-hidden`}\r\n          whileHover={{ scale: 1.02 }}\r\n          whileTap={{ scale: 0.98 }}\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.3, delay: 0.1 }}\r\n        >\r\n          {selectedPlan === 'monthly' && (\r\n            <motion.div\r\n              className=\"absolute inset-0 bg-white\"\r\n              layoutId=\"selectedPlan\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              style={{ zIndex: -1 }}\r\n            />\r\n          )}\r\n          <div className=\"flex justify-between items-center\">\r\n            <div className=\"text-left\">\r\n              <div className=\"font-bold text-lg\">Monthly</div>\r\n              <div className=\"text-sm opacity-80\">$7.99/month</div>\r\n              {activePromo && selectedPlan === 'monthly' && (\r\n                <div className=\"text-xs text-green-600 mt-1 font-medium\">\r\n                  {getDiscountedPrice(prices.monthly).toFixed(2)} with discount\r\n                </div>\r\n              )}\r\n            </div>\r\n            {selectedPlan === 'monthly' && (\r\n              <motion.div\r\n                className=\"text-sm font-bold px-2 py-1 bg-blue-100 text-blue-600 rounded flex items-center\"\r\n                initial={{ scale: 0 }}\r\n                animate={{ scale: 1 }}\r\n                transition={{ type: \"spring\", stiffness: 500, damping: 15 }}\r\n              >\r\n                <Check size={14} className=\"mr-1\" />\r\n                Selected\r\n              </motion.div>\r\n            )}\r\n          </div>\r\n        </motion.button>\r\n\r\n        {/* Promo Code Section */}\r\n        <motion.div\r\n          className=\"mt-6 p-4 rounded-xl bg-white/20\"\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.3, delay: 0.2 }}\r\n        >\r\n          <div className=\"flex items-center text-white text-left mb-2\">\r\n            <span>Have a code?</span>\r\n            <motion.button\r\n              className=\"ml-2 text-white/70 hover:text-white\"\r\n              whileHover={{ scale: 1.1 }}\r\n              whileTap={{ scale: 0.9 }}\r\n              onClick={() => setShowInfoTooltip(!showInfoTooltip)}\r\n            >\r\n              <Info size={14} />\r\n            </motion.button>\r\n\r\n            {/* Info Tooltip */}\r\n            <AnimatePresence>\r\n              {showInfoTooltip && (\r\n                <motion.div\r\n                  className=\"absolute bg-white text-blue-600 p-2 rounded-lg shadow-lg text-xs max-w-[200px] z-10\"\r\n                  initial={{ opacity: 0, y: -10 }}\r\n                  animate={{ opacity: 1, y: 0 }}\r\n                  exit={{ opacity: 0, y: -10 }}\r\n                  transition={{ duration: 0.2 }}\r\n                >\r\n                  Enter a valid promo code to get a discount on your subscription.\r\n                </motion.div>\r\n              )}\r\n            </AnimatePresence>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Input\r\n              type=\"text\"\r\n              placeholder=\"Enter code\"\r\n              value={promoCode}\r\n              onChange={(e) => setPromoCode(e.target.value)}\r\n              className=\"flex-1 p-2 rounded-lg bg-white/20 text-white placeholder-white/60 border border-white/30 focus:outline-none focus:border-white\"\r\n            />\r\n            <motion.div whileHover={{ scale: 1.05 }} whileTap={{ scale: 0.95 }}>\r\n              <Button\r\n                variant=\"ghost\"\r\n                className=\"text-white hover:bg-white/20\"\r\n                onClick={handlePromoCodeSubmit}\r\n              >\r\n                Redeem\r\n              </Button>\r\n            </motion.div>\r\n          </div>\r\n\r\n          <AnimatePresence>\r\n            {activePromo && (\r\n              <motion.div\r\n                className=\"mt-2 text-white text-sm\"\r\n                initial={{ opacity: 0, height: 0 }}\r\n                animate={{ opacity: 1, height: 'auto' }}\r\n                exit={{ opacity: 0, height: 0 }}\r\n                transition={{ duration: 0.3 }}\r\n              >\r\n                <span className=\"bg-green-500 text-white px-2 py-1 rounded-full text-xs mr-2 inline-flex items-center\">\r\n                  <Check size={12} className=\"mr-1\" />\r\n                  Applied\r\n                </span>\r\n                {activePromo.discount}\r\n              </motion.div>\r\n            )}\r\n          </AnimatePresence>\r\n        </motion.div>\r\n      </div>\r\n\r\n      {/* Action Buttons */}\r\n      <div className=\"mt-6 space-y-4\">\r\n        <motion.div\r\n          whileHover={{ scale: 1.03 }}\r\n          whileTap={{ scale: 0.97 }}\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.3, delay: 0.3 }}\r\n        >\r\n          <Button\r\n            onClick={handleSubscribe}\r\n            className=\"w-full bg-white text-blue-600 hover:bg-blue-50 py-6 text-lg font-semibold rounded-xl shadow-lg\"\r\n          >\r\n            Subscribe Now\r\n          </Button>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          className=\"text-center\"\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.3, delay: 0.4 }}\r\n        >\r\n          <p className=\"text-white/80 text-sm\">Cancel anytime</p>\r\n        </motion.div>\r\n\r\n        <motion.button\r\n          onClick={handleExit}\r\n          className=\"w-full text-white/70 hover:text-white py-2 text-sm font-medium\"\r\n          whileHover={{ scale: 1.05 }}\r\n          whileTap={{ scale: 0.95 }}\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ duration: 0.3, delay: 0.5 }}\r\n        >\r\n          Skip for now\r\n        </motion.button>\r\n      </div>\r\n\r\n      {/* Payment Modal */}\r\n      <AnimatePresence>\r\n        {showPaymentModal && (\r\n          <motion.div\r\n            className=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\"\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0 }}\r\n            transition={{ duration: 0.3 }}\r\n          >\r\n            <motion.div\r\n              className=\"bg-white rounded-2xl p-4 w-11/12 max-w-sm max-h-[85vh] overflow-y-auto relative\"\r\n              initial={{ scale: 0.9, opacity: 0 }}\r\n              animate={{ scale: 1, opacity: 1 }}\r\n              exit={{ scale: 0.9, opacity: 0 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              {/* Close button for payment modal */}\r\n              {!processingPayment && !paymentSuccess && (\r\n                <motion.button\r\n                  className=\"absolute top-2 right-2 text-gray-500 hover:text-gray-700 z-10\"\r\n                  onClick={() => setShowPaymentModal(false)}\r\n                  whileHover={{ scale: 1.1 }}\r\n                  whileTap={{ scale: 0.9 }}\r\n                >\r\n                  <X size={20} />\r\n                </motion.button>\r\n              )}\r\n            {paymentSuccess ? (\r\n              <div className=\"p-4 text-center\">\r\n                <div className=\"w-12 h-12 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><polyline points=\"20 6 9 17 4 12\"></polyline></svg>\r\n                </div>\r\n                <h3 className=\"text-lg font-bold mb-1\">Payment Successful!</h3>\r\n                <p className=\"text-gray-600 mb-3 text-sm\">Welcome to Hushhly Premium.</p>\r\n                <div className=\"bg-gradient-to-r from-blue-500 to-blue-600 p-3 rounded-lg text-white text-center\">\r\n                  <p className=\"font-medium text-sm\">Premium features unlocked!</p>\r\n                </div>\r\n              </div>\r\n            ) : processingPayment ? (\r\n              <div className=\"relative\">\r\n                {/* Payment Processing UI */}\r\n                <div className=\"bg-black text-white p-4 rounded-2xl w-full\">\r\n                  <div className=\"flex justify-between items-center mb-3\">\r\n                    <div className=\"text-base font-medium\">\r\n                      {selectedPlan === 'annual' ? 'Annual Plan' : 'Monthly Plan'}\r\n                    </div>\r\n                    <div className=\"text-base font-medium\">\r\n                      ${selectedPlan === 'annual' ?\r\n                        (activePromo ? getDiscountedPrice(prices.annual) : prices.annual).toFixed(2) :\r\n                        (activePromo ? getDiscountedPrice(prices.monthly) : prices.monthly).toFixed(2)}\r\n                      {activePromo && (\r\n                        <div className=\"text-xs text-green-400 mt-0.5\">\r\n                          {activePromo.discount}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Payment method indicator */}\r\n                  <div className=\"mb-4 flex items-center\">\r\n                    <div className=\"bg-white/10 px-3 py-1 rounded-full text-sm flex items-center\">\r\n                      {paymentStep === 'processing' && (\r\n                        <>\r\n                          <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n                            <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\r\n                            <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\r\n                          </svg>\r\n                          Processing payment...\r\n                        </>\r\n                      )}\r\n                      {paymentStep === 'verifying' && (\r\n                        <>\r\n                          <svg className=\"animate-pulse -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" />\r\n                          </svg>\r\n                          Verifying payment...\r\n                        </>\r\n                      )}\r\n                      {paymentStep === 'success' && (\r\n                        <>\r\n                          <svg className=\"-ml-1 mr-2 h-4 w-4 text-green-400\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                          </svg>\r\n                          Payment successful!\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n\r\n                  {paymentStep === 'processing' && (\r\n                    <div className=\"text-center py-4\">\r\n                      <div className=\"animate-spin rounded-full h-10 w-10 border-2 border-white border-t-transparent mx-auto mb-3\"></div>\r\n                      <p className=\"text-base\">Processing payment...</p>\r\n                      <p className=\"text-xs text-gray-400 mt-1\">Please don't close this window.</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {paymentStep === 'verifying' && (\r\n                    <div className=\"text-center py-4\">\r\n                      <div className=\"flex items-center justify-center mb-3\">\r\n                        <div className=\"animate-pulse w-10 h-10 rounded-full bg-white/20 flex items-center justify-center\">\r\n                          <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                          </svg>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-base\">Verifying payment...</p>\r\n                      <p className=\"text-xs text-gray-400 mt-1\">Confirming with payment provider.</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {paymentStep === 'success' && (\r\n                    <div className=\"text-center py-4\">\r\n                      <div className=\"flex items-center justify-center mb-3\">\r\n                        <div className=\"w-10 h-10 rounded-full bg-white flex items-center justify-center\">\r\n                          <svg className=\"w-6 h-6 text-black\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\r\n                          </svg>\r\n                        </div>\r\n                      </div>\r\n                      <p className=\"text-base\">Payment Successful!</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                <div className=\"text-center mb-4\">\r\n                  <h3 className=\"text-lg font-bold text-gray-800\">Payment Amount</h3>\r\n                  <p className=\"text-gray-600 mt-1 text-sm\">\r\n                    {selectedPlan === 'annual' ?\r\n                      `$${(activePromo ? getDiscountedPrice(prices.annual) : prices.annual).toFixed(2)}/year` :\r\n                      `$${(activePromo ? getDiscountedPrice(prices.monthly) : prices.monthly).toFixed(2)}/month`}\r\n                    {activePromo && (\r\n                      <span className=\"ml-2 text-green-500 text-xs\">\r\n                        ({activePromo.discount})\r\n                      </span>\r\n                    )}\r\n                  </p>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  <Button\r\n                    onClick={() => handlePayment('apple_pay')}\r\n                    className=\"w-full bg-black text-white py-3 rounded-xl flex items-center justify-center space-x-2 hover:bg-gray-900 transition-colors\"\r\n                  >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M14.94 5.19A4.38 4.38 0 0 0 16 2a4.44 4.44 0 0 0-3 1.52 4.17 4.17 0 0 0-1 3.09 3.69 3.69 0 0 0 2.94-1.42zm2.52 7.44a4.51 4.51 0 0 1 2.16-3.81 4.66 4.66 0 0 0-3.66-2c-1.56-.16-3 .91-3.83.91s-2-.89-3.3-.87a4.92 4.92 0 0 0-4.14 2.53C2.92 12.29 4.24 17 6 19.47c.8 1.21 1.8 2.58 3.12 2.53s1.75-.82 3.28-.82 2 .82 3.3.79 2.22-1.23 3.06-2.45a11 11 0 0 0 1.38-2.85 4.41 4.41 0 0 1-2.68-4.04z\"></path></svg>\r\n                    <span className=\"text-sm\">Pay with Apple Pay</span>\r\n                  </Button>\r\n                  <Button\r\n                    onClick={() => handlePayment('google_pay')}\r\n                    className=\"w-full bg-blue-600 text-white py-3 rounded-xl flex items-center justify-center space-x-2 hover:bg-blue-700 transition-colors\"\r\n                  >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"white\"><path d=\"M12 24c6.624 0 12-5.376 12-12s-5.376-12-12-12-12 5.376-12 12 5.376 12 12 12zm0-22.5c5.799 0 10.5 4.701 10.5 10.5s-4.701 10.5-10.5 10.5-10.5-4.701-10.5-10.5 4.701-10.5 10.5-10.5z\"/><path d=\"M15.75 12c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-1.5 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-1.5 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75zm-1.5 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75z\"/></svg>\r\n                    <span className=\"text-sm\">Pay with Google Play</span>\r\n                  </Button>\r\n                  <Button\r\n                    onClick={() => handlePayment('credit_card')}\r\n                    className=\"w-full bg-gray-800 text-white py-3 rounded-xl flex items-center justify-center space-x-2 hover:bg-gray-700 transition-colors\"\r\n                  >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><rect x=\"1\" y=\"4\" width=\"22\" height=\"16\" rx=\"2\" ry=\"2\"></rect><line x1=\"1\" y1=\"10\" x2=\"23\" y2=\"10\"></line></svg>\r\n                    <span className=\"text-sm\">Pay with Credit Card</span>\r\n                  </Button>\r\n                  <button\r\n                    onClick={() => setShowPaymentModal(false)}\r\n                    className=\"w-full text-gray-600 py-2 hover:text-gray-800 transition-colors\"\r\n                  >\r\n                    Cancel\r\n                  </button>\r\n                </div>\r\n              </>\r\n            )}\r\n            </motion.div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscriptionScreen;"],"names":["Info","createLucideIcon","PROMO_CODES","code","discount","subscriptionTier","rules","isValid","discountType","discountValue","duration","durationValue","usePromoCode","activePromo","setActivePromo","useState","applyPromoCode","plan","upperCode","toUpperCase","promoCode","includes","message","discountDuration","promoDetails","removePromoCode","calculateDiscountedPrice","originalPrice","discountAmount","Math","max","SubscriptionScreen","navigate","useNavigate","toast","useToast","selectedPlan","setSelectedPlan","setPromoCode","showPaymentModal","setShowPaymentModal","processingPayment","setProcessingPayment","paymentStep","setPaymentStep","paymentSuccess","setPaymentSuccess","prices","annual","monthly","useEffect","localStorage","getItem","title","description","handleSubscribe","handlePayment","method","userData","Error","user","JSON","parse","Promise","resolve","setTimeout","paymentResult","paymentService","processPayment","success","subscriptionDetails","verifyPayment","paymentId","saveSubscription","email","error","variant","handlePromoCodeSubmit","normalizedCode","trim","result","getDiscountedPrice","handleExit","showInfoTooltip","setShowInfoTooltip","div","className","_jsx","motion","button","onClick","whileHover","scale","whileTap","X","size","ArrowLeft","_jsxs","initial","opacity","y","animate","transition","h1","p","layoutId","style","zIndex","toFixed","type","stiffness","damping","Check","delay","span","AnimatePresence","exit","Input","placeholder","value","onChange","e","target","Button","height","svg","xmlns","width","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","polyline","points","h3","_Fragment","circle","cx","cy","r","path","d","rect","x","rx","ry","line","x1","y1","x2","y2"],"mappings":"+dAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,EAAOC,EAAiB,OAAQ,CACpC,CAAC,SAAU,CAAE,GAAI,KAAM,GAAI,KAAM,EAAG,KAAM,IAAK,SAAU,EACzD,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,EAC1C,CAAC,OAAQ,CAAE,EAAG,YAAa,IAAK,QAAQ,CAAE,CAC5C,CAAC,ECDYC,EAA4C,CACvD,QAAW,CACTC,KAAM,UACNC,SAAU,oBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,uBACPC,QAAS,GACTC,aAAc,aACdC,cAAe,IACfC,SAAU,UACZ,EACA,YAAe,CACbP,KAAM,cACNC,SAAU,mBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,sBACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,UACZ,EACA,UAAa,CACXP,KAAM,YACNC,SAAU,mBACVC,iBAAkB,CAAC,UAAW,QAAS,EACvCC,MAAO,+BACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,SACVC,cAAe,CACjB,EACA,OAAU,CACRR,KAAM,SACNC,SAAU,kBACVC,iBAAkB,CAAC,KAAM,EACzBC,MAAO,iBACPC,QAAS,GACTC,aAAc,OACdC,cAAe,IACfC,SAAU,OACVC,cAAe,CACjB,EACA,UAAa,CACXR,KAAM,YACNC,SAAU,sBACVC,iBAAkB,CAAC,aAAc,SAAU,EAC3CC,MAAO,eACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,SACVC,cAAe,CACjB,EACA,QAAW,CACTR,KAAM,UACNC,SAAU,qBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,gCACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,SACVC,cAAe,CACjB,EACA,WAAc,CACZR,KAAM,aACNC,SAAU,sBACVC,iBAAkB,CAAC,aAAc,EACjCC,MAAO,0BACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,UACZ,EACA,UAAa,CACXP,KAAM,YACNC,SAAU,mBACVC,iBAAkB,CAAC,UAAW,QAAS,EACvCC,MAAO,0BACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,SACVC,cAAe,CACjB,EACA,gBAAmB,CACjBR,KAAM,kBACNC,SAAU,mBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,oCACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,SACVC,cAAe,CACjB,EACA,YAAe,CACbR,KAAM,cACNC,SAAU,iBACVC,iBAAkB,CAAC,QAAS,EAC5BC,MAAO,sBACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,SACVC,cAAe,EACjB,EACA,aAAgB,CACdR,KAAM,eACNC,SAAU,mBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,yCACPC,QAAS,GACTC,aAAc,aACdC,cAAe,IACfC,SAAU,SACVC,cAAe,CACjB,EACA,aAAgB,CACdR,KAAM,eACNC,SAAU,mBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,2BACPC,QAAS,GACTC,aAAc,aACdC,cAAe,IACfC,SAAU,SACVC,cAAe,CACjB,EACA,aAAgB,CACdR,KAAM,eACNC,SAAU,mBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,iCACPC,QAAS,GACTC,aAAc,OACdC,cAAe,IACfC,SAAU,UACZ,EACA,YAAe,CACbP,KAAM,cACNC,SAAU,oBACVC,iBAAkB,CAAC,KAAM,EACzBC,MAAO,iCACPC,QAAS,GACTC,aAAc,aACdC,cAAe,GACfC,SAAU,UACZ,EACA,WAAc,CACZP,KAAM,aACNC,SAAU,wBACVC,iBAAkB,CAAC,SAAU,EAC7BC,MAAO,kBACPC,QAAS,GACTC,aAAc,aACdC,cAAe,IACfC,SAAU,SACVC,cAAe,CACjB,CACF,EC7JaC,EAAe,IAAA,CAC1B,KAAM,CAACC,EAAaC,CAAe,EAAGC,WAA2B,IAAA,EA4D1D,MAAA,CACLC,eA3DqB,CAACb,EAAcc,IAAAA,CAC9BC,MAAAA,EAAYf,EAAKgB,cACjBC,EAAYlB,EAAYgB,CAAU,EAExC,OAAKE,EAOAA,EAAUb,QAQX,CAACa,EAAUf,iBAAiBgB,SAASJ,CAAS,GAAA,CAACG,EAAUf,iBAAiBgB,SAAS,KAAQ,EACtF,CACLd,QAAS,GACTe,QAAS,oCAAoCL,CAAAA,OAAAA,GAIjDH,EAAeM,CAAAA,EAER,CACLb,QAAS,GACTe,QAAS,GAAGF,EAAUhB,QAAQ,yBAC9BA,SAAUgB,EAAUX,cACpBc,iBAAkBH,EAAUV,SAC5Bc,aAAcJ,CAAAA,GArBP,CACLb,QAAS,GACTe,QAAS,6BAAA,EATJ,CACLf,QAAS,GACTe,QAAS,oBAAA,CA2Bb,EA0BAG,gBAvBsB,IAAA,CACtBX,EAAe,IAAA,CAAA,EAuBfD,YAAAA,EACAa,yBArBgCC,GAAAA,CAC5B,GAAA,CAACd,EAAoBc,OAAAA,EAErBd,GAAAA,EAAYL,eAAiB,OAAe,MAAA,GAE5CK,GAAAA,EAAYL,eAAiB,aAAc,CACvCoB,MAAAA,EAAkBD,EAAgBd,EAAYJ,cAAiB,IACrE,OAAOkB,EAAgBC,CACzB,CAEIf,OAAAA,EAAYL,eAAiB,QACxBqB,KAAKC,IAAI,EAAGH,EAAgBd,EAAYJ,aAAa,EAGvDkB,CAAAA,CAOPD,CAEJ,ECzEMK,GAA+B,IAAA,CACnC,MAAMC,EAAWC,IACX,CAAEC,MAAAA,GAAUC,IACZ,CAACC,EAAcC,CAAgB,EAAGtB,WAA2B,QAAA,EAC7D,CAACK,EAAWkB,CAAa,EAAGvB,WAAS,EAAA,EACrC,CAACwB,EAAkBC,CAAoB,EAAGzB,WAAS,EAAA,EACnD,CAAC0B,EAAmBC,CAAqB,EAAG3B,WAAS,EAAA,EACrD,CAAC4B,EAAaC,CAAe,EAAG7B,WAA4D,QAAA,EAC5F,CAAC8B,EAAgBC,CAAkB,EAAG/B,WAAS,EAAA,EAC/C,CAAEC,eAAAA,EAAgBS,gBAAAA,EAAiBZ,YAAAA,EAAaa,yBAAAA,CAAAA,EAA6Bd,IAE7EmC,EAAS,CACbC,OAAQ,MACRC,QAAS,IAAA,EAIXC,EAAAA,UAAU,IAAA,CACKC,aAAaC,QAAQ,MAAA,IAG1BlB,EAAA,CACJmB,MAAO,iBACPC,YAAa,wCAAA,CACf,EACAtB,EAAS,UAAA,EAEb,EAAG,CAAE,CAAA,EAEL,MAAMuB,EAAkB,IAAA,CACtBf,EAAoB,EAAA,CAAA,EAGhBgB,EAAgB,MAAOC,GAAAA,CAC3Bf,EAAqB,EAAA,EACrBE,EAAe,YAAA,EAEX,GAAA,CAEIc,MAAAA,EAAWP,aAAaC,QAAQ,MAAA,EACtC,GAAI,CAACM,EACG,MAAA,IAAIC,MAAM,gBAAA,EAGZC,MAAAA,EAAOC,KAAKC,MAAMJ,CAAAA,EAGxB,MAAM,IAAIK,QAAQC,GAAWC,WAAWD,EAAS,IAAA,CAAA,EAEjD,MAAME,EAAgB,MAAMC,EAAeC,eACzChC,EACA,CAAEqB,OAAAA,CAAAA,EACF5C,GAAAA,YAAAA,EAAaV,IAAAA,EAGX+D,GAAAA,EAAcG,SAAWH,EAAcI,oBAMzC,GALA1B,EAAe,WAAA,EAGI,MAAMuB,EAAeI,cAAcL,EAAcM,WAAa,EAAA,EAS/E,GALcL,EAAeM,iBAC3Bb,EAAKc,MACLR,EAAcI,mBAAmB,EAKjC,MAAM,IAAIP,QAAQC,GAAWC,WAAWD,EAAS,GAAA,CAAA,EAEjDpB,EAAe,SAAA,EACfE,EAAkB,EAAA,EAGlBmB,WAAW,IAAA,CACTzB,EAAoB,EAAA,EACdN,EAAA,CACJmB,MAAO,yBACPC,YAAa,QAAQlB,CAAAA,gDAAAA,CACvB,EACAJ,EAAS,OAAA,GACR,GAAA,MAEG,OAAA,IAAI2B,MAAM,6BAAA,MAGZ,OAAA,IAAIA,MAAM,mEAAA,MAGlB,OAAM,IAAIA,MAAMO,EAAcS,OAAS,yCAAA,QAElCA,EAAO,CACNA,QAAAA,MAAM,iBAAkBA,CAAAA,EAC1BzC,EAAA,CACJmB,MAAO,iBACPC,YAAaqB,aAAiBhB,MAAQgB,EAAMrD,QAAU,8CACtDsD,QAAS,aAAA,CACX,EACAlC,EAAqB,EAAA,EACrBE,EAAe,QAAA,CACjB,CAAA,EAGIiC,EAAwB,IAAA,CAC5B,GAAI,CAACzD,EAAW,CACRc,EAAA,CACJmB,MAAO,eACPC,YAAa,4BACbsB,QAAS,aAAA,CACX,EACA,MACF,CAGA,MAAME,EAAiB1D,EAAU2D,KAAI,EAAG5D,YAAW,EAC7C6D,EAAShE,EAAe8D,EAAgB1C,IAAiB,SAAW,SAAW,SAAA,EAEjF4C,EAAOzE,SACH2B,EAAA,CACJmB,MAAO,qBACPC,YAAa0B,EAAO1D,OAAAA,CACtB,EAEAgB,EAAa,EAAA,GAEPJ,EAAA,CACJmB,MAAO,eACPC,YAAa0B,EAAO1D,QACpBsD,QAAS,aAAA,CACX,CACF,EAGIK,EAAsBtD,GACnBD,EAAyBC,CAAAA,EAG5BuD,EAAa,IAAA,CACjBlD,EAAS,OAAA,EACHE,EAAA,CACJmB,MAAO,uBACPC,YAAa,8CAAA,CACf,CAAA,EAGI,CAAC6B,EAAiBC,CAAmB,EAAGrE,WAAS,EAAA,EAEvD,cACGsE,MAAAA,CAAIC,UAAU,+FAEbC,EAAA,IAACC,EAAOC,OAAM,CACZH,UAAU,yGACVI,QAASR,EACTS,WAAY,CAAEC,MAAO,GAAI,EACzBC,SAAU,CAAED,MAAO,EAAI,EAEvB,eAACE,EAAAA,CAAEC,KAAM,EAAA,KAIXR,EAAA,IAACC,EAAOC,OAAM,CACZH,UAAU,0GACVI,QAAS,IAAM1D,EAAS,EAAC,EACzB2D,WAAY,CAAEC,MAAO,GAAI,EACzBC,SAAU,CAAED,MAAO,EAAI,EAEvB,eAACI,EAAAA,CAAUD,KAAM,EAAA,KAInBE,EAAA,KAACT,EAAOH,IAAG,CACTC,UAAU,mCACVY,QAAS,CAAEC,QAAS,EAAGC,EAAG,GAAI,EAC9BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,CAAE,EAC5BE,WAAY,CAAE5F,SAAU,EAAI,kBAE3B6F,KAAAA,CAAGjB,UAAU,0BAA0B,SAAA,6BAAA,SACvCkB,IAAAA,CAAElB,UAAU,qBAAqB,SAAA,uFAAA,aAMnCD,MAAAA,CAAIC,UAAU,6BAEbW,EAAA,KAACT,EAAOC,OAAM,CACZC,QAAS,IAAMrD,EAAgB,QAAA,EAC/BiD,UAAW,yBACTlD,IAAiB,SACb,yBACA,wBAAA,wDAENuD,WAAY,CAAEC,MAAO,IAAK,EAC1BC,SAAU,CAAED,MAAO,GAAK,EACxBM,QAAS,CAAEC,QAAS,EAAGC,EAAG,EAAG,EAC7BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,CAAE,EAC5BE,WAAY,CAAE5F,SAAU,EAAI,YAE3B0B,IAAiB,UACfoD,MAAAA,EAAOH,IAAG,CACTC,UAAU,4BACVmB,SAAS,eACTP,QAAS,CAAEC,QAAS,CAAE,EACtBE,QAAS,CAAEF,QAAS,CAAE,EACtBO,MAAO,CAAEC,OAAQ,EAAG,CAAA,UAGvBtB,MAAAA,CAAIC,UAAU,qDACZD,MAAAA,CAAIC,UAAU,4BACZD,MAAAA,CAAIC,UAAU,oBAAoB,SAAA,gBAAA,SAClCD,MAAAA,CAAIC,UAAU,qBAAqB,SAAA,aAAA,GACnCzE,GAAeuB,IAAiB,UAC/B6D,EAAAA,KAACZ,MAAAA,CAAIC,UAAU,oDACZL,EAAmBlC,EAAOC,MAAM,EAAE4D,QAAQ,CAAA,EAAG,uBAInDxE,IAAiB,UACfoD,OAAAA,EAAOH,IAAG,CACTC,UAAU,kFACVY,QAAS,CAAEN,MAAO,CAAE,EACpBS,QAAS,CAAET,MAAO,CAAE,EACpBU,WAAY,CAAEO,KAAM,SAAUC,UAAW,IAAKC,QAAS,EAAG,kBAEzDC,EAAAA,CAAMjB,KAAM,GAAIT,UAAU,MAAA,GAAS,sBAQ5CW,EAAA,KAACT,EAAOC,OAAM,CACZC,QAAS,IAAMrD,EAAgB,SAAA,EAC/BiD,UAAW,yBACTlD,IAAiB,UACb,yBACA,wBAAA,wDAENuD,WAAY,CAAEC,MAAO,IAAK,EAC1BC,SAAU,CAAED,MAAO,GAAK,EACxBM,QAAS,CAAEC,QAAS,EAAGC,EAAG,EAAG,EAC7BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,CAAE,EAC5BE,WAAY,CAAE5F,SAAU,GAAKuG,MAAO,EAAI,YAEvC7E,IAAiB,WACfoD,MAAAA,EAAOH,IAAG,CACTC,UAAU,4BACVmB,SAAS,eACTP,QAAS,CAAEC,QAAS,CAAE,EACtBE,QAAS,CAAEF,QAAS,CAAE,EACtBO,MAAO,CAAEC,OAAQ,EAAG,CAAA,UAGvBtB,MAAAA,CAAIC,UAAU,qDACZD,MAAAA,CAAIC,UAAU,4BACZD,MAAAA,CAAIC,UAAU,oBAAoB,SAAA,SAAA,SAClCD,MAAAA,CAAIC,UAAU,qBAAqB,SAAA,aAAA,GACnCzE,GAAeuB,IAAiB,WAC/B6D,EAAAA,KAACZ,MAAAA,CAAIC,UAAU,oDACZL,EAAmBlC,EAAOE,OAAO,EAAE2D,QAAQ,CAAA,EAAG,uBAIpDxE,IAAiB,WACfoD,OAAAA,EAAOH,IAAG,CACTC,UAAU,kFACVY,QAAS,CAAEN,MAAO,CAAE,EACpBS,QAAS,CAAET,MAAO,CAAE,EACpBU,WAAY,CAAEO,KAAM,SAAUC,UAAW,IAAKC,QAAS,EAAG,kBAEzDC,EAAAA,CAAMjB,KAAM,GAAIT,UAAU,MAAA,GAAS,oBAQ5CW,EAAA,KAACT,EAAOH,IAAG,CACTC,UAAU,kCACVY,QAAS,CAAEC,QAAS,EAAGC,EAAG,EAAG,EAC7BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,CAAE,EAC5BE,WAAY,CAAE5F,SAAU,GAAKuG,MAAO,EAAI,mBAEvC5B,MAAAA,CAAIC,UAAU,8DACZ4B,OAAAA,CAAK,SAAA,cAAA,GACN3B,EAAA,IAACC,EAAOC,OAAM,CACZH,UAAU,sCACVK,WAAY,CAAEC,MAAO,GAAI,EACzBC,SAAU,CAAED,MAAO,EAAI,EACvBF,QAAS,IAAMN,EAAmB,CAACD,CAAAA,EAEnC,eAACnF,EAAAA,CAAK+F,KAAM,EAAA,WAIboB,EAAAA,UACEhC,GACEK,MAAAA,EAAOH,IAAG,CACTC,UAAU,sFACVY,QAAS,CAAEC,QAAS,EAAGC,EAAG,GAAI,EAC9BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,CAAE,EAC5BgB,KAAM,CAAEjB,QAAS,EAAGC,EAAG,GAAI,EAC3BE,WAAY,CAAE5F,SAAU,EAAI,EAC7B,SAAA,kEAAA,eAON2E,MAAAA,CAAIC,UAAU,8CACZ+B,EAAAA,CACCR,KAAK,OACLS,YAAY,aACZC,MAAOnG,EACPoG,SAAWC,GAAMnF,EAAamF,EAAEC,OAAOH,KAAK,EAC5CjC,UAAU,gIAAA,GAEZC,EAAA,IAACC,EAAOH,IAAG,CAACM,WAAY,CAAEC,MAAO,IAAK,EAAGC,SAAU,CAAED,MAAO,GAAK,EAC/D,eAAC+B,EAAAA,CACC/C,QAAQ,QACRU,UAAU,+BACVI,QAASb,EACV,SAAA,QAAA,cAMJsC,EAAAA,UACEtG,GACE2E,OAAAA,EAAOH,IAAG,CACTC,UAAU,0BACVY,QAAS,CAAEC,QAAS,EAAGyB,OAAQ,CAAE,EACjCvB,QAAS,CAAEF,QAAS,EAAGyB,OAAQ,MAAO,EACtCR,KAAM,CAAEjB,QAAS,EAAGyB,OAAQ,CAAE,EAC9BtB,WAAY,CAAE5F,SAAU,EAAI,mBAE3BwG,OAAAA,CAAK5B,UAAU,uGACb0B,EAAAA,CAAMjB,KAAM,GAAIT,UAAU,MAAA,GAAS,aAGrCzE,EAAYT,2BAQtBiF,MAAAA,CAAIC,UAAU,2BACbC,EAAA,IAACC,EAAOH,IAAG,CACTM,WAAY,CAAEC,MAAO,IAAK,EAC1BC,SAAU,CAAED,MAAO,GAAK,EACxBM,QAAS,CAAEC,QAAS,EAAGC,EAAG,EAAG,EAC7BC,QAAS,CAAEF,QAAS,EAAGC,EAAG,CAAE,EAC5BE,WAAY,CAAE5F,SAAU,GAAKuG,MAAO,EAAI,EAExC,eAACU,EAAAA,CACCjC,QAASnC,EACT+B,UAAU,iGACX,SAAA,eAAA,KAKHC,EAAA,IAACC,EAAOH,IAAG,CACTC,UAAU,cACVY,QAAS,CAAEC,QAAS,CAAE,EACtBE,QAAS,CAAEF,QAAS,CAAE,EACtBG,WAAY,CAAE5F,SAAU,GAAKuG,MAAO,EAAI,EAExC,eAACT,IAAAA,CAAElB,UAAU,wBAAwB,SAAA,gBAAA,KAGvCC,EAAA,IAACC,EAAOC,OAAM,CACZC,QAASR,EACTI,UAAU,iEACVK,WAAY,CAAEC,MAAO,IAAK,EAC1BC,SAAU,CAAED,MAAO,GAAK,EACxBM,QAAS,CAAEC,QAAS,CAAE,EACtBE,QAAS,CAAEF,QAAS,CAAE,EACtBG,WAAY,CAAE5F,SAAU,GAAKuG,MAAO,EAAI,EACzC,SAAA,cAAA,YAMFE,EAAAA,UACE5E,GACEiD,MAAAA,EAAOH,IAAG,CACTC,UAAU,kEACVY,QAAS,CAAEC,QAAS,CAAE,EACtBE,QAAS,CAAEF,QAAS,CAAE,EACtBiB,KAAM,CAAEjB,QAAS,CAAE,EACnBG,WAAY,CAAE5F,SAAU,EAAI,WAE3B8E,EAAAA,KAAAA,EAAOH,IAAG,CACTC,UAAU,kFACVY,QAAS,CAAEN,MAAO,GAAKO,QAAS,CAAE,EAClCE,QAAS,CAAET,MAAO,EAAGO,QAAS,CAAE,EAChCiB,KAAM,CAAExB,MAAO,GAAKO,QAAS,CAAE,EAC/BG,WAAY,CAAE5F,SAAU,EAAI,YAG3B,CAAC+B,GAAqB,CAACI,GACtB0C,EAAAA,IAACC,EAAOC,OAAM,CACZH,UAAU,gEACVI,QAAS,IAAMlD,EAAoB,EAAA,EACnCmD,WAAY,CAAEC,MAAO,GAAI,EACzBC,SAAU,CAAED,MAAO,EAAI,EAEvB,eAACE,EAAAA,CAAEC,KAAM,EAAA,KAGdlD,SACEwC,MAAAA,CAAIC,UAAU,kCACZD,MAAAA,CAAIC,UAAU,mGACb,eAACuC,MAAAA,CAAIC,MAAM,6BAA6BC,MAAM,KAAKH,OAAO,KAAKI,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIC,cAAc,QAAQC,eAAe,QAAQ,eAACC,WAAAA,CAASC,OAAO,gBAAA,aAEpMC,KAAAA,CAAGlD,UAAU,yBAAyB,SAAA,qBAAA,SACtCkB,IAAAA,CAAElB,UAAU,6BAA6B,SAAA,6BAAA,SACzCD,MAAAA,CAAIC,UAAU,mFACb,eAACkB,IAAAA,CAAElB,UAAU,sBAAsB,SAAA,4BAAA,MAGrC7C,EAAAA,EACF8C,EAAA,IAACF,MAAAA,CAAIC,UAAU,WAEb,gBAACD,MAAAA,CAAIC,UAAU,8DACZD,MAAAA,CAAIC,UAAU,yDACZD,MAAAA,CAAIC,UAAU,wBACZlD,SAAAA,IAAiB,SAAW,cAAgB,cAAA,UAE9CiD,MAAAA,CAAIC,UAAU,kCAAwB,IACnClD,IAAiB,UAChBvB,EAAcoE,EAAmBlC,EAAOC,MAAM,EAAID,EAAOC,QAAQ4D,QAAQ,CAAA,GACzE/F,EAAcoE,EAAmBlC,EAAOE,OAAO,EAAIF,EAAOE,SAAS2D,QAAQ,CAAA,EAC7E/F,SACEwE,MAAAA,CAAIC,UAAU,gCACZzE,SAAAA,EAAYT,QAAAA,eAOpBiF,MAAAA,CAAIC,UAAU,yBACb,gBAACD,MAAAA,CAAIC,UAAU,yEACZ3C,IAAgB,cACfsD,EAAA,KAAAwC,WAAA,kBACGZ,MAAAA,CAAIvC,UAAU,6CAA6CwC,MAAM,6BAA6BG,KAAK,OAAOD,QAAQ,4BAChHU,SAAAA,CAAOpD,UAAU,aAAaqD,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKX,OAAO,eAAeC,YAAY,GAAA,SACvFW,OAAAA,CAAKxD,UAAU,aAAa2C,KAAK,eAAec,EAAE,iHAAA,MAC/C,2BAITpG,IAAgB,aACfsD,EAAA,KAAAwC,WAAA,iBACGZ,MAAAA,CAAIvC,UAAU,8CAA8CwC,MAAM,6BAA6BG,KAAK,OAAOD,QAAQ,YAAYE,OAAO,eACrI,eAACY,OAAAA,CAAKV,cAAc,QAAQC,eAAe,QAAQF,YAAa,EAAGY,EAAE,gMAAA,KACjE,0BAITpG,IAAgB,WACfsD,EAAA,KAAAwC,WAAA,iBACGZ,MAAAA,CAAIvC,UAAU,oCAAoCwC,MAAM,6BAA6BG,KAAK,OAAOD,QAAQ,YAAYE,OAAO,eAC3H,eAACY,OAAAA,CAAKV,cAAc,QAAQC,eAAe,QAAQF,YAAa,EAAGY,EAAE,gBAAA,KACjE,8BAObpG,IAAgB,cACfsD,EAAA,KAACZ,MAAAA,CAAIC,UAAU,mCACZD,MAAAA,CAAIC,UAAU,6FAAA,SACdkB,IAAAA,CAAElB,UAAU,YAAY,SAAA,uBAAA,SACxBkB,IAAAA,CAAElB,UAAU,6BAA6B,SAAA,iCAAA,MAI7C3C,IAAgB,aACfsD,EAAA,KAACZ,MAAAA,CAAIC,UAAU,mCACZD,MAAAA,CAAIC,UAAU,wCACb,eAACD,MAAAA,CAAIC,UAAU,oFACb,eAACuC,MAAAA,CAAIvC,UAAU,UAAU2C,KAAK,OAAOC,OAAO,eAAeF,QAAQ,YACjE,eAACc,OAAAA,CAAKV,cAAc,QAAQC,eAAe,QAAQF,YAAa,EAAGY,EAAE,+CAAA,eAI1EvC,IAAAA,CAAElB,UAAU,YAAY,SAAA,sBAAA,SACxBkB,IAAAA,CAAElB,UAAU,6BAA6B,SAAA,mCAAA,MAI7C3C,IAAgB,WACfsD,EAAA,KAACZ,MAAAA,CAAIC,UAAU,mCACZD,MAAAA,CAAIC,UAAU,wCACb,eAACD,MAAAA,CAAIC,UAAU,mEACb,eAACuC,MAAAA,CAAIvC,UAAU,qBAAqB2C,KAAK,OAAOC,OAAO,eAAeF,QAAQ,YAC5E,eAACc,OAAAA,CAAKV,cAAc,QAAQC,eAAe,QAAQF,YAAa,EAAGY,EAAE,gBAAA,eAI1EvC,IAAAA,CAAElB,UAAU,YAAY,SAAA,qBAAA,SAMjC,EAAAW,EAAA,KAAAwC,WAAA,kBACGpD,MAAAA,CAAIC,UAAU,mCACZkD,KAAAA,CAAGlD,UAAU,kCAAkC,SAAA,gBAAA,UAC/CkB,IAAAA,CAAElB,UAAU,uCACVlD,IAAiB,SAChB,KAAKvB,EAAcoE,EAAmBlC,EAAOC,MAAM,EAAID,EAAOC,QAAQ4D,QAAQ,CAAG,CAAA,QACjF,KAAK/F,EAAcoE,EAAmBlC,EAAOE,OAAO,EAAIF,EAAOE,SAAS2D,QAAQ,CAAA,CAAA,SACjF/F,UACEqG,OAAAA,CAAK5B,UAAU,wCAA8B,IAC1CzE,EAAYT,SAAS,oBAK9BiF,MAAAA,CAAIC,UAAU,6BACZqC,EAAAA,CACCjC,QAAS,IAAMlC,EAAc,WAAA,EAC7B8B,UAAU,4IAETuC,MAAAA,CAAIC,MAAM,6BAA6BC,MAAM,KAAKH,OAAO,KAAKI,QAAQ,YAAYC,KAAK,QAAQ,eAACa,OAAAA,CAAKC,EAAE,iYAAA,WACvG7B,OAAAA,CAAK5B,UAAU,UAAU,SAAA,oBAAA,aAE3BqC,EAAAA,CACCjC,QAAS,IAAMlC,EAAc,YAAA,EAC7B8B,UAAU,gJAETuC,MAAAA,CAAIC,MAAM,6BAA6BC,MAAM,KAAKH,OAAO,KAAKI,QAAQ,YAAYC,KAAK,wBAASa,OAAAA,CAAKC,EAAE,mLAAA,SAAsLD,OAAAA,CAAKC,EAAE,4UAAA,YACpS7B,OAAAA,CAAK5B,UAAU,UAAU,SAAA,sBAAA,aAE3BqC,EAAAA,CACCjC,QAAS,IAAMlC,EAAc,aAAA,EAC7B8B,UAAU,gJAETuC,MAAAA,CAAIC,MAAM,6BAA6BC,MAAM,KAAKH,OAAO,KAAKI,QAAQ,YAAYC,KAAK,OAAOC,OAAO,eAAeC,YAAY,IAAIC,cAAc,QAAQC,eAAe,wBAASW,OAAAA,CAAKC,EAAE,IAAI7C,EAAE,IAAI2B,MAAM,KAAKH,OAAO,KAAKsB,GAAG,IAAIC,GAAG,GAAA,SAAYC,OAAAA,CAAKC,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAA,YAC/QtC,OAAAA,CAAK5B,UAAU,UAAU,SAAA,sBAAA,YAE3BG,SAAAA,CACCC,QAAS,IAAMlD,EAAoB,EAAA,EACnC8C,UAAU,kEACX,SAAA,QAAA,kBAYnB","x_google_ignoreList":[0]}