{"version":3,"file":"VideoPopup-DGyMS6qo.js","sources":["../../src/components/VideoPopup.tsx"],"sourcesContent":["\r\nimport React, { useEffect } from 'react';\r\nimport { X, Volume2, SkipBack, Play, SkipForward, Heart } from 'lucide-react';\r\nimport { activityTrackingService } from '@/services/activityTrackingService';\r\n\r\ninterface VideoPopupProps {\r\n  title: string;\r\n  duration: string;\r\n  videoId?: string;\r\n  onClose: () => void;\r\n}\r\n\r\nconst VideoPopup: React.FC<VideoPopupProps> = ({ title, duration, videoId = 'nRkP3lKj_lY', onClose }) => {\r\n  // End meditation session when component unmounts\r\n  useEffect(() => {\r\n    return () => {\r\n      const sessionId = localStorage.getItem('current_meditation_session');\r\n      if (sessionId) {\r\n        // Get user ID from localStorage\r\n        const userData = localStorage.getItem('user');\r\n        const userId = userData ? JSON.parse(userData).id : 'guest';\r\n\r\n        // End the meditation session\r\n        activityTrackingService.endMeditationSession(userId, sessionId, true);\r\n\r\n        // Clear the session ID\r\n        localStorage.removeItem('current_meditation_session');\r\n      }\r\n    };\r\n  }, []);\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/90 z-50 flex flex-col items-center justify-center p-6 animate-fade-in\">\r\n      <div className=\"w-full max-w-md bg-white/10 backdrop-blur-lg rounded-xl overflow-hidden\">\r\n        <div className=\"flex justify-between items-center p-4 bg-gradient-to-r from-blue-600 to-blue-500\">\r\n          <h3 className=\"text-white font-medium\">{title}</h3>\r\n          <button onClick={onClose} className=\"text-white p-1 hover:bg-white/20 rounded-full\">\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"relative pt-[56.25%] bg-black\">\r\n          {videoId && (\r\n            <iframe\r\n              className=\"absolute top-0 left-0 w-full h-full\"\r\n              src={`https://www.youtube.com/embed/${videoId}?autoplay=1&controls=1&modestbranding=1`}\r\n              title={title}\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            ></iframe>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"p-4 text-white space-y-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <p className=\"font-medium\">{title}</p>\r\n              <p className=\"text-sm text-gray-300\">{duration} meditation</p>\r\n            </div>\r\n            <button className=\"bg-white/20 hover:bg-white/30 p-2 rounded-full transition-colors\">\r\n              <Heart size={20} />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex items-center justify-around\">\r\n            <button className=\"p-3 hover:bg-white/10 rounded-full\">\r\n              <SkipBack size={24} />\r\n            </button>\r\n            <button className=\"p-4 bg-blue-500 rounded-full hover:bg-blue-600 transition-colors\">\r\n              <Play size={28} fill=\"white\" />\r\n            </button>\r\n            <button className=\"p-3 hover:bg-white/10 rounded-full\">\r\n              <SkipForward size={24} />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"flex items-center space-x-2\">\r\n            <Volume2 size={16} />\r\n            <div className=\"flex-1 h-1 bg-white/30 rounded-full\">\r\n              <div className=\"w-1/2 h-full bg-blue-500 rounded-full\"></div>\r\n            </div>\r\n          </div>\r\n\r\n          <button\r\n            onClick={onClose}\r\n            className=\"w-full bg-gradient-to-r from-blue-600 to-blue-500 hover:opacity-90 py-2 rounded-lg\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VideoPopup;\r\n"],"names":["VideoPopup","title","duration","videoId","onClose","useEffect","sessionId","localStorage","getItem","userData","userId","JSON","parse","id","endMeditationSession","removeItem","div","className","h3","button","onClick","X","size","_jsx","iframe","src","allow","allowFullScreen","p","Heart","SkipBack","Play","fill","SkipForward","Volume2"],"mappings":"gSAYMA,MAAAA,EAAwC,CAAC,CAAEC,MAAAA,EAAOC,SAAAA,EAAUC,QAAAA,EAAU,cAAeC,QAAAA,MAEzFC,EAAAA,UAAU,IACD,IAAA,CACCC,MAAAA,EAAYC,aAAaC,QAAQ,4BAAA,EACvC,GAAIF,EAAW,CAEPG,MAAAA,EAAWF,aAAaC,QAAQ,MAAA,EAChCE,EAASD,EAAWE,KAAKC,MAAMH,CAAAA,EAAUI,GAAK,QAG5BC,EAAAA,qBAAqBJ,EAAQJ,EAAW,EAAA,EAGhEC,aAAaQ,WAAW,4BAAA,CAC1B,CAAA,EAED,CAAE,CAAA,QAEFC,MAAAA,CAAIC,UAAU,+FACb,gBAACD,MAAAA,CAAIC,UAAU,2FACZD,MAAAA,CAAIC,UAAU,mGACZC,KAAAA,CAAGD,UAAU,yBAA0BhB,SAAAA,CAAAA,SACvCkB,SAAAA,CAAOC,QAAShB,EAASa,UAAU,gDAClC,eAACI,EAAAA,CAAEC,KAAM,EAAA,cAIZN,MAAAA,CAAIC,UAAU,gCACZd,SAAAA,GACCoB,EAAA,IAACC,SAAAA,CACCP,UAAU,sCACVQ,IAAK,iCAAiCtB,CAAAA,0CACtCF,MAAAA,EACAyB,MAAM,2FACNC,gBAAe,EAAA,YAKpBX,MAAAA,CAAIC,UAAU,4CACZD,MAAAA,CAAIC,UAAU,qDACZD,MAAAA,iBACEY,IAAAA,CAAEX,UAAU,cAAehB,SAAAA,CAAAA,UAC3B2B,IAAAA,CAAEX,UAAU,kCAAyBf,EAAS,0BAEhDiB,SAAAA,CAAOF,UAAU,mEAChB,eAACY,EAAAA,CAAMP,KAAM,EAAA,eAIhBN,MAAAA,CAAIC,UAAU,mDACZE,SAAAA,CAAOF,UAAU,qCAChB,eAACa,EAAAA,CAASR,KAAM,EAAA,WAEjBH,SAAAA,CAAOF,UAAU,mEAChB,eAACc,EAAAA,CAAKT,KAAM,GAAIU,KAAK,OAAA,WAEtBb,SAAAA,CAAOF,UAAU,qCAChB,eAACgB,EAAAA,CAAYX,KAAM,EAAA,eAItBN,MAAAA,CAAIC,UAAU,8CACZiB,EAAAA,CAAQZ,KAAM,EAAA,SACdN,MAAAA,CAAIC,UAAU,sCACb,eAACD,MAAAA,CAAIC,UAAU,uCAAA,cAIlBE,SAAAA,CACCC,QAAShB,EACTa,UAAU,qFACX,SAAA,OAAA"}