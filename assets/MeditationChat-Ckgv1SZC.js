import{k as Q,a as le,r as n,j as e,X as de,s as we,w as be}from"./index-BnT946GU.js";import{B as V}from"./button-B6LXQo29.js";import{A as q}from"./index-W5K3Lpim.js";import{m as c}from"./motion-C3UotyFw.js";import{C as ne}from"./calendar-yfexX3GG.js";import{B as je}from"./bell-iQEtnzG1.js";import{C as ve}from"./check-CIog22E7.js";import{M as ke,B as Se,S as Ne}from"./MoodSelector-bEJwJY5E.js";import{A as ae}from"./arrow-left-BQRj5OLm.js";import{H as Ie}from"./heart-BCoYQEt4.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=Q("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=Q("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=Q("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=Q("Wind",[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]]),Ce=({isOpen:k,onClose:$,meditationTitle:S,meditationDuration:p,onScheduled:P})=>{const{toast:h}=le(),[w,B]=n.useState(new Date),[H,b]=n.useState(""),[N,T]=n.useState(!0),[I,Y]=n.useState(!0),[m,E]=n.useState(!1),[F,C]=n.useState(!1),L=(()=>{const s=[],y=new Date,a=y.getHours(),j=y.getMinutes(),d=w.toDateString()===new Date().toDateString(),z=d?a:6;for(let u=z;u<24;u++){const M=u>=12,x=u%12||12,r=d&&u===a?Math.ceil(j/15)*15:0;for(let v=r;v<60;v+=15){if(d&&u===a&&v<=j)continue;const f=v.toString().padStart(2,"0"),O=`${x}:${f} ${M?"PM":"AM"}`;s.push(O)}}return s})();n.useEffect(()=>{if(k){const s=new Date;s.setMinutes(s.getMinutes()+30);const y=s.getHours()%12||12,j=(Math.ceil(s.getMinutes()/15)*15%60).toString().padStart(2,"0"),d=s.getHours()>=12?"PM":"AM";b(`${y}:${j} ${d}`),"Notification"in window&&C(Notification.permission==="granted")}},[k]);const _=s=>{B(new Date(s.target.value)),b("")},J=s=>{b(s)},G=async()=>{if("Notification"in window){const s=await Notification.requestPermission();C(s==="granted"),h(s==="granted"?{title:"Notifications Enabled",description:"You'll receive reminders for your scheduled meditations."}:{title:"Notifications Disabled",description:"You won't receive reminders for your scheduled meditations."})}},R=()=>{if(!w||!H)return;const[s,y]=H.split(" "),[a,j]=s.split(":");let d=parseInt(a);const z=parseInt(j);y==="PM"&&d!==12&&(d+=12),y==="AM"&&d===12&&(d=0);const u=new Date(w);u.setHours(d,z,0,0);const M=parseInt(p.split(" ")[0]),x=new Date(u);x.setMinutes(x.getMinutes()+M);const r=K=>K.toISOString().replace(/-|:|\.\d+/g,""),v=r(u),f=r(x),O=`https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent(`Hushhly: ${S}`)}&details=${encodeURIComponent(`${p} meditation session`)}&dates=${v}/${f}&ctz=${encodeURIComponent(Intl.DateTimeFormat().resolvedOptions().timeZone)}`;window.open(O,"_blank")},Z=async()=>{if(!w||!H){h({title:"Missing Information",description:"Please select both a date and time for your meditation."});return}E(!0);try{const[s,y]=H.split(" "),[a,j]=s.split(":");let d=parseInt(a);const z=parseInt(j);y==="PM"&&d!==12&&(d+=12),y==="AM"&&d===12&&(d=0);const u=new Date(w);u.setHours(d,z,0,0);const M=u.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),x=u.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),r=`meditation-${Date.now()}`,v=localStorage.getItem("scheduled_meditations")||"[]",f=JSON.parse(v);f.push({id:r,title:S,duration:p,date:M,time:x,timestamp:u.getTime(),completed:!1}),localStorage.setItem("scheduled_meditations",JSON.stringify(f)),N&&F&&we(r,S,x,M,p),I&&R(),P(u,x),h({title:"Meditation Scheduled",description:`${S} scheduled for ${M} at ${x}.`}),$()}catch(s){console.error("Error scheduling meditation:",s),h({title:"Scheduling Failed",description:"There was an error scheduling your meditation. Please try again."})}finally{E(!1)}};return k?e.jsx(q,{children:e.jsx(c.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:$,children:e.jsxs(c.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl w-full max-w-md p-6 shadow-xl",onClick:s=>s.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Schedule Meditation"}),e.jsx("button",{onClick:$,className:"p-1 rounded-full hover:bg-gray-100 transition-colors",children:e.jsx(de,{size:20,className:"text-gray-500"})})]}),e.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 mb-6",children:[e.jsx("h3",{className:"font-semibold text-blue-700",children:S}),e.jsxs("p",{className:"text-sm text-blue-600",children:[p," session"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx(ne,{size:16,className:"text-gray-500"})}),e.jsx("input",{type:"date",min:new Date().toISOString().split("T")[0],value:w.toISOString().split("T")[0],onChange:_,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-10 p-2.5"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Time"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 max-h-40 overflow-y-auto",children:L.map(s=>e.jsx("button",{onClick:()=>J(s),className:`py-2 px-3 text-sm rounded-lg transition-colors ${H===s?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s},s))})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(je,{size:18,className:"text-gray-700 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Remind me"})]}),e.jsx("button",{onClick:()=>{!F&&!N&&G(),T(!N)},className:`w-12 h-6 rounded-full transition-colors ${N?"bg-blue-500":"bg-gray-300"} relative`,children:e.jsx("span",{className:`absolute top-0.5 left-0.5 bg-white w-5 h-5 rounded-full transition-transform ${N?"translate-x-6":"translate-x-0"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ne,{size:18,className:"text-gray-700 mr-2"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Add to Google Calendar"})]}),e.jsx("button",{onClick:()=>Y(!I),className:`w-12 h-6 rounded-full transition-colors ${I?"bg-blue-500":"bg-gray-300"} relative`,children:e.jsx("span",{className:`absolute top-0.5 left-0.5 bg-white w-5 h-5 rounded-full transition-transform ${I?"translate-x-6":"translate-x-0"}`})})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(V,{onClick:$,variant:"outline",className:"flex-1",children:"Cancel"}),e.jsx(V,{onClick:Z,disabled:m||!w||!H,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white",children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e.jsx("span",{children:"Scheduling..."})]}):e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ve,{size:16,className:"mr-2"}),e.jsx("span",{children:"Schedule"})]})})]})]})})}):null},se=[{id:1,text:"Welcome back. Before we begin, how's your heart today?",category:"general",emoji:"💗"},{id:2,text:"How are you feeling in this moment?",category:"general",emoji:"✨"},{id:3,text:"What emotions are visiting you today?",category:"emotional",emoji:"🌊"},{id:4,text:"How is your inner weather today?",category:"emotional",emoji:"🌦️"},{id:5,text:"What's the temperature of your mind right now?",category:"mindfulness",emoji:"🧠"},{id:6,text:"How is your energy flowing today?",category:"physical",emoji:"⚡"},{id:7,text:"What's one word that describes how you feel right now?",category:"emotional",emoji:"💭"},{id:8,text:"What color would your mood be today?",category:"emotional",emoji:"🎨"},{id:9,text:"If your feelings were weather, what would the forecast be?",category:"emotional",emoji:"☁️"},{id:10,text:"How is your body feeling today?",category:"physical",emoji:"🧘"},{id:11,text:"What emotions have been most present for you today?",category:"emotional",emoji:"🌈"},{id:12,text:"Is there something specific weighing on your heart today?",category:"emotional",emoji:"🪶"},{id:13,text:"What's the loudest emotion in your heart right now?",category:"emotional",emoji:"📢"},{id:14,text:"Are you carrying any emotional weight today that you'd like to set down?",category:"emotional",emoji:"🎒"},{id:15,text:"How would you describe the rhythm of your emotions today?",category:"emotional",emoji:"🎵"},{id:16,text:"On a scale of stormy to peaceful, how is your mind today?",category:"mindfulness",emoji:"🌊"},{id:17,text:"How present have you been able to be today?",category:"mindfulness",emoji:"🎁"},{id:18,text:"What's the quality of your attention right now?",category:"mindfulness",emoji:"🔍"},{id:19,text:"How busy is your mind in this moment?",category:"mindfulness",emoji:"🐝"},{id:20,text:"What's the pace of your thoughts right now?",category:"mindfulness",emoji:"⏱️"},{id:21,text:"Where in your body do you feel the most tension today?",category:"physical",emoji:"💪"},{id:22,text:"How is your breathing right now - deep or shallow?",category:"physical",emoji:"🫁"},{id:23,text:"How rested does your body feel today?",category:"physical",emoji:"😴"},{id:24,text:"What is your body asking for today?",category:"physical",emoji:"👂"},{id:25,text:"How connected do you feel to your physical self right now?",category:"physical",emoji:"🧵"},{id:26,text:"What's one thing you're grateful for in this moment?",category:"gratitude",emoji:"🙏"},{id:27,text:"Has anything brought you joy today, however small?",category:"gratitude",emoji:"✨"},{id:28,text:"What's something beautiful you've noticed today?",category:"gratitude",emoji:"🌸"},{id:29,text:"Is there a moment from today you'd like to treasure?",category:"gratitude",emoji:"💎"},{id:30,text:"What's nurturing your spirit today?",category:"gratitude",emoji:"🌱"},{id:31,text:"What are you learning about yourself today?",category:"growth",emoji:"📚"},{id:32,text:"What challenge are you facing that might be helping you grow?",category:"growth",emoji:"🧗"},{id:33,text:"How have you been kind to yourself today?",category:"growth",emoji:"❤️"},{id:34,text:"What wisdom has today offered you?",category:"growth",emoji:"🦉"},{id:35,text:"What part of yourself are you discovering today?",category:"growth",emoji:"🔍"},{id:36,text:"How would you describe your inner landscape right now?",category:"general",emoji:"🏞️"},{id:37,text:"What's the quality of your presence today?",category:"general",emoji:"✨"},{id:38,text:"How aligned do you feel with yourself today?",category:"general",emoji:"⚖️"},{id:39,text:"What's the story your heart is telling today?",category:"general",emoji:"📖"},{id:40,text:"How would you describe your soul's weather today?",category:"general",emoji:"🌦️"},{id:41,text:"If your heart could speak right now, what would it say?",category:"emotional",emoji:"💬"},{id:42,text:"What's one thing your body needs right now?",category:"physical",emoji:"🧠"},{id:43,text:"How connected do you feel to your purpose today?",category:"growth",emoji:"🧭"},{id:44,text:"What's the tempo of your day been like?",category:"general",emoji:"🎵"},{id:45,text:"What's one thing you'd like to release before our meditation?",category:"mindfulness",emoji:"🕊️"},{id:46,text:"How would you describe the texture of your thoughts today?",category:"mindfulness",emoji:"🧶"},{id:47,text:"What's one sensation you're aware of in your body right now?",category:"physical",emoji:"👐"},{id:48,text:"What's the quality of your breath today?",category:"physical",emoji:"💨"},{id:49,text:"What emotion is asking for your attention right now?",category:"emotional",emoji:"🔔"},{id:50,text:"How would you describe your relationship with yourself today?",category:"growth",emoji:"🤝"},{id:51,text:"If your day was a landscape, what would it look like?",category:"general",emoji:"🏞️"},{id:52,text:"If your emotions were music, what would be playing right now?",category:"emotional",emoji:"🎵"},{id:53,text:"What season does your heart feel like it's in?",category:"emotional",emoji:"🍂"},{id:54,text:"If your mind was a room, how would you describe it right now?",category:"mindfulness",emoji:"🏠"},{id:55,text:"What animal reflects your energy today?",category:"general",emoji:"🦋"},{id:56,text:"How is anxiety showing up for you today, if at all?",category:"emotional",emoji:"😰"},{id:57,text:"Where are you finding peace today?",category:"emotional",emoji:"☮️"},{id:58,text:"How is your heart holding joy today?",category:"emotional",emoji:"🎉"},{id:59,text:"What's the quality of your sadness today, if present?",category:"emotional",emoji:"💧"},{id:60,text:"How is your confidence feeling today?",category:"emotional",emoji:"💪"},{id:61,text:"What are you noticing about your thoughts right now?",category:"mindfulness",emoji:"💭"},{id:62,text:"How present are you feeling in your body right now?",category:"mindfulness",emoji:"🧘"},{id:63,text:"What's one thing you can sense with each of your five senses right now?",category:"mindfulness",emoji:"👁️"},{id:64,text:"How would you describe your relationship with the present moment?",category:"mindfulness",emoji:"⏱️"},{id:65,text:"What's one thing you're aware of that you weren't aware of yesterday?",category:"mindfulness",emoji:"💡"},{id:66,text:"How connected do you feel to others today?",category:"general",emoji:"🤲"},{id:67,text:"What's one relationship that's nurturing you right now?",category:"gratitude",emoji:"💞"},{id:68,text:"How are you showing up in your relationships today?",category:"growth",emoji:"🌟"},{id:69,text:"What's one boundary you're honoring today?",category:"growth",emoji:"🛡️"},{id:70,text:"How is your heart feeling about your closest connections?",category:"emotional",emoji:"❤️"},{id:71,text:"What's giving your day meaning today?",category:"growth",emoji:"✨"},{id:72,text:"How aligned do you feel with your purpose right now?",category:"growth",emoji:"🧭"},{id:73,text:"What values are you honoring today?",category:"growth",emoji:"🏆"},{id:74,text:"What's one small way you're making a difference today?",category:"gratitude",emoji:"🌱"},{id:75,text:"What's one thing that feels meaningful to you right now?",category:"growth",emoji:"💎"},{id:76,text:"How balanced does your energy feel today?",category:"physical",emoji:"⚖️"},{id:77,text:"What area of your life needs more attention right now?",category:"growth",emoji:"🔍"},{id:78,text:"How are you balancing giving and receiving today?",category:"growth",emoji:"🔄"},{id:79,text:"What's one way you could bring more harmony to your day?",category:"growth",emoji:"☯️"},{id:80,text:"How are you honoring both your strengths and vulnerabilities today?",category:"growth",emoji:"🦋"},{id:81,text:"What are you in the process of letting go of?",category:"growth",emoji:"🍃"},{id:82,text:"What new beginning are you experiencing or hoping for?",category:"growth",emoji:"🌅"},{id:83,text:"What's transforming within you right now?",category:"growth",emoji:"🦋"},{id:84,text:"What chapter of your life are you currently in?",category:"growth",emoji:"📖"},{id:85,text:"What's one thing that's changing in your inner landscape?",category:"growth",emoji:"🌊"},{id:86,text:"What intention would you like to set for our time together?",category:"mindfulness",emoji:"🧭"},{id:87,text:"What quality would you like to cultivate in yourself today?",category:"growth",emoji:"🌱"},{id:88,text:"What's one thing you'd like to invite more of into your life?",category:"growth",emoji:"✨"},{id:89,text:"What would you like to focus on during our meditation today?",category:"mindfulness",emoji:"🔍"},{id:90,text:"What's one small shift you'd like to make today?",category:"growth",emoji:"🔄"},{id:91,text:"How would you describe the landscape of your heart today?",category:"emotional",emoji:"💗"},{id:92,text:"What's one thing your body is communicating to you right now?",category:"physical",emoji:"👂"},{id:93,text:"What's the most alive part of you today?",category:"general",emoji:"✨"},{id:94,text:"What's one truth you're holding today?",category:"growth",emoji:"💎"},{id:95,text:"How is your spirit feeling today?",category:"general",emoji:"🕊️"},{id:96,text:"What's one thing you're curious about today?",category:"growth",emoji:"🔍"},{id:97,text:"How would you describe your relationship with uncertainty today?",category:"growth",emoji:"❓"},{id:98,text:"What's one way you've shown yourself compassion today?",category:"growth",emoji:"❤️"},{id:99,text:"What's the quality of your hope today?",category:"emotional",emoji:"🌈"},{id:100,text:"Before we begin our meditation, what's in your heart right now?",category:"emotional",emoji:"💗"}],re=()=>{const k=Math.floor(Math.random()*se.length);return se[k]},Oe=({isOpen:k,onClose:$})=>{const{user:S}=be(),{toast:p}=le();S!=null&&S.id;const[P,h]=n.useState([]),[w,B]=n.useState(""),[H,b]=n.useState(!1),[N,T]=n.useState(!1);n.useState(!1);const[I,Y]=n.useState(!1),[m,E]=n.useState("rest"),[F,C]=n.useState(!1),[te,L]=n.useState(!1),[_,J]=n.useState(""),[G,R]=n.useState("Personalized Meditation"),[Z,s]=n.useState("10 Min"),[y,a]=n.useState("neutral"),[j,d]=n.useState(!1),z=n.useRef(null),[u,M]=n.useState(!0),[x,r]=n.useState("happy"),[v,f]=n.useState("Hi there! I'm Hushhly Bear, your meditation companion."),[O,K]=n.useState(re().text);n.useEffect(()=>{k&&(M(!0),setTimeout(()=>{const t={id:W(),content:O,sender:"ai",timestamp:Date.now(),type:"text",suggestions:["I feel anxious","I feel tired","I feel grateful","I need to focus"],emotion:"neutral"};h([t]),r("listening"),f("How are you feeling today? I'm here to listen and help you find peace.")},3e3))},[k]),n.useEffect(()=>{var t;(t=z.current)==null||t.scrollIntoView({behavior:"smooth"})},[P]),n.useEffect(()=>{let t;if(I){const o=()=>{E("inhale"),X("inhale"),t=setTimeout(()=>{E("hold"),X("hold"),t=setTimeout(()=>{E("exhale"),X("exhale"),t=setTimeout(()=>{E("rest"),t=setTimeout(()=>{o()},2e3)},6e3)},4e3)},4e3)};o()}return()=>{t&&clearTimeout(t)}},[I]);const W=()=>Math.random().toString(36).substring(2,15),X=t=>{if(t==="rest")return;const o=t==="inhale"?"[breathe in...] Receive this breath as nourishment":t==="hold"?"[hold...] Feel the stillness within":"[breathe out...] Release what no longer serves you",i={id:W(),content:o,sender:"ai",timestamp:Date.now(),type:"breathing",breathingCue:t,duration:t==="inhale"||t==="hold"?4:6,emotion:y};h(l=>[...l,i])},oe=()=>{if(w.trim()==="")return;const t={id:W(),content:w,sender:"user",timestamp:Date.now(),type:"text"};h(o=>[...o,t]),B(""),b(!0),setTimeout(()=>{const o=ee(t.content);h(i=>[...i,o]),b(!1),o.type==="meditation"&&Y(!0)},1500)},ce=()=>{if(N){if(T(!1),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const t=window.webkitSpeechRecognition||window.SpeechRecognition;new t().stop()}}else if(T(!0),"webkitSpeechRecognition"in window||"SpeechRecognition"in window){const t=window.webkitSpeechRecognition||window.SpeechRecognition,o=new t;o.lang="en-US",o.continuous=!1,o.interimResults=!1,o.onresult=i=>{const l=i.results[0][0].transcript;B(l),T(!1),setTimeout(()=>{if(l.trim()!==""){const U={id:W(),content:l,sender:"user",timestamp:Date.now(),type:"text"};h(A=>[...A,U]),B(""),b(!0),setTimeout(()=>{const A=ee(l);h(D=>[...D,A]),b(!1),A.type==="meditation"&&Y(!0)},1500)}},500)},o.onerror=i=>{console.error("Speech recognition error",i.error),T(!1),p({title:"Voice Recognition Error",description:"We couldn't process your voice. Please try again or type your message.",duration:3e3})},o.onend=()=>{T(!1)},o.start()}else p({title:"Voice Recognition Not Supported",description:"Your browser doesn't support voice recognition. Please type your message instead.",duration:3e3}),T(!1)},g=t=>{const o={id:W(),content:t,sender:"user",timestamp:Date.now(),type:"text"};h(i=>[...i,o]),b(!0),setTimeout(()=>{const i=ee(t);h(l=>[...l,i]),b(!1),i.type==="meditation"&&Y(!0)},1500)},ee=t=>{const o=t.toLowerCase();let i="",l=[],U="text",A=!1;const D=ue(o);return D==="sad"||D==="anxious"?(r("calm"),f("I understand how you feel. Let's take a moment to breathe together."),A=!0,setTimeout(()=>{d(!0),setTimeout(()=>d(!1),3e3)},500)):D==="grateful"||D==="energized"?(r("happy"),f("That's wonderful! I'm happy to hear that. Let's build on this positive energy.")):D==="tired"?(r("thinking"),f("I understand. Let's find a gentle practice that respects your energy levels today.")):(r("listening"),f("I'm here with you. How can I support your meditation practice today?")),o.includes("hello")||o.includes("hi")||o.includes("hey")?(i=`I'm here with you. [pause]
How is your inner landscape today? I'm listening with my full presence.`,l=["I feel anxious","I feel tired","I feel grateful","I need to focus"]):o.includes("anxious")||o.includes("anxiety")||o.includes("worried")||o.includes("stress")?(i=`I feel that anxiety with you. [pause]
Like ripples on water, these feelings move through you but aren't the whole of who you are. [pause]
Where in your body do you feel this anxiety most strongly right now? [pause]
Would you like to try a gentle breathing practice to help ground your nervous system?`,l=["Yes, help me breathe","In my chest/stomach","I need something quick","I want to schedule a session"],R("Anxiety Relief Meditation")):o.includes("tired")||o.includes("exhausted")||o.includes("no energy")?(i=`I hear the weariness in your words. [pause]
Your body carries so much wisdom when it asks for rest. [pause]
Let's honor that together with some gentle renewal. [pause]
Would you like a soft energizing practice, or something to help you surrender more deeply to rest?`,l=["Gentle energy renewal","Help me rest deeply","I need better sleep","Why am I always tired?"],R("Energy Renewal Meditation")):o.includes("sad")||o.includes("depressed")||o.includes("down")?(i=`I'm sitting with your sadness. [pause]
Emotions flow through us like weather patterns—sometimes stormy, sometimes clear. [pause]
Your feelings are valid and worthy of gentle attention. [pause]
Would you like to explore a meditation that offers a soft holding space for whatever you're experiencing?`,l=["Yes, hold space for me","How can meditation help sadness?","I want to talk more","Schedule a session"],R("Emotional Comfort Meditation")):o.includes("happy")||o.includes("grateful")||o.includes("good")?(i=`What a beautiful energy you're carrying today. [pause]
Gratitude is like sunlight for the soul—it illuminates everything it touches. [pause]
Would you like to amplify this feeling, letting it sink deeper into your being with a gratitude practice?`,l=["Yes, deepen this feeling","How to maintain this state","I want something different","Schedule for later"],R("Gratitude Amplification")):o.includes("focus")||o.includes("concentrate")||o.includes("distracted")?(i=`Finding focus can be challenging in our busy world. [pause]
Your awareness of needing concentration is already a mindful step. [pause]
Would you like a short meditation to help clear your mind and sharpen your attention?`,l=["Yes, help me focus","Quick concentration tips","I need a longer session","Schedule for later"],R("Focus Enhancement")):o.includes("sleep")||o.includes("insomnia")||o.includes("can't sleep")?(i=`The night can feel so long when sleep won't come. [pause]
Your body and mind are seeking that sweet surrender to rest. [pause]
Would you like a gentle meditation to help prepare your whole being for deep, nourishing sleep?`,l=["Yes, guide me to sleep","Tips for better sleep","I need something now","Schedule for bedtime"],R("Sleep Preparation")):o.includes("yes")&&(o.includes("meditation")||o.includes("breathe")||o.includes("help")||o.includes("focus"))?(i=`Let's begin this journey together. [pause]
Find a position where your body feels supported and at ease. [pause]
I'll guide you with my voice as we move through this practice. [pause]
Let's start by arriving fully in this moment with a deep, nourishing breath. [breathe in]... [pause]... [breathe out]...`,U="meditation",l=[]):o.includes("schedule")||o.includes("later")||o.includes("reminder")?(i=`I'd be honored to reserve this time for your future self. [pause]
When would feel most nurturing for you to return to this practice?`,l=["This evening","Tomorrow morning","Set a custom time","Never mind"]):o.includes("evening")||o.includes("tonight")?(i=`Evening practice can be so beautiful—a gentle transition between the day's activities and the night's rest. [pause]
Before we schedule, would you like to capture a reflection about how you're feeling in this moment?`,l=["Yes, save a reflection","No, just schedule","Cancel scheduling"],setTimeout(()=>{C(!0)},1e3)):o.includes("morning")||o.includes("tomorrow")?(i=`Morning meditation can set such a beautiful tone for your day. [pause]
Before we schedule, would you like to save a reflection about how you're feeling right now, to revisit tomorrow?`,l=["Yes, save a reflection","No, just schedule","Cancel scheduling"],setTimeout(()=>{C(!0)},1e3)):o.includes("reflection")||o.includes("save")?(i=`I've saved your reflection like a precious moment in time. [pause]
These breadcrumbs of your journey can reveal such beautiful patterns when revisited. [pause]
Your meditation has been scheduled with care.`,l=["Thank you","Start a meditation now","Tell me more about reflections"],setTimeout(()=>{p({title:"Reflection Saved",description:"Your emotional reflection has been saved to your journal.",duration:3e3})},1e3),U="reflection"):(i=`I'm here with you on this meditation journey. [pause]
Would you like to explore a practice tailored to how you're feeling right now, or would you prefer guidance on a specific aspect of meditation?`,l=["Start a meditation","Help with anxiety","Help with focus","Help with sleep"]),{id:W(),content:i,sender:"ai",timestamp:Date.now(),type:U,suggestions:l,emotion:D,showHugAnimation:A}},ue=t=>t.includes("anxious")||t.includes("anxiety")||t.includes("worried")||t.includes("stress")?(a("anxious"),"anxious"):t.includes("tired")||t.includes("exhausted")||t.includes("no energy")?(a("tired"),"tired"):t.includes("sad")||t.includes("depressed")||t.includes("down")?(a("sad"),"sad"):t.includes("happy")||t.includes("grateful")||t.includes("good")||t.includes("thankful")?(a("grateful"),"grateful"):t.includes("energetic")||t.includes("energized")||t.includes("motivated")||t.includes("excited")?(a("energized"),"energized"):t.includes("focus")||t.includes("concentrate")||t.includes("distracted")?(a("neutral"),"neutral"):t.includes("sleep")||t.includes("insomnia")?(a("tired"),"tired"):(a("neutral"),"neutral"),he=()=>{Y(!1),r("happy"),f("Wonderful job! How do you feel after that meditation? I'm here to help you reflect on your experience.");const t={id:W(),content:`Gently returning to this moment. [pause]
Take your time to notice any shifts in your inner landscape. [pause]
How does your heart feel now? Would you like to capture this feeling in a reflection, or schedule your next moment of connection?`,sender:"ai",timestamp:Date.now(),type:"text",suggestions:["Save a reflection","Schedule next session","I feel more peaceful","I need more guidance"],emotion:"grateful"};h(o=>[...o,t]),setTimeout(()=>{L(!0)},1500)},me=(t,o)=>{C(!1);const i={id:W(),content:`I've scheduled your ${G} for ${o}. I'll send you a reminder before the session.`,sender:"ai",timestamp:Date.now(),type:"text",suggestions:["Thank you","Start a meditation now","Cancel this schedule"]};h(l=>[...l,i]),p({title:"Meditation Scheduled",description:`Your ${G} has been scheduled for ${o}.`,duration:3e3})},ye=()=>{if(_.trim()===""){p({title:"Reflection Empty",description:"Please write a short reflection before saving.",duration:3e3});return}const t={id:W(),content:`I've saved your reflection like a precious stone in the river of your journey. [pause]
These moments of awareness create a beautiful mosaic over time, revealing the patterns of your growth and healing. [pause]
Thank you for sharing this piece of your heart.`,sender:"ai",timestamp:Date.now(),type:"reflection",suggestions:["Thank you for holding space","Schedule next session","Start another meditation"],emotion:"grateful"};h(o=>[...o,t]),L(!1),p({title:"Reflection Saved",description:"Your emotional reflection has been saved to your journal.",duration:3e3}),setTimeout(()=>{C(!0)},1e3)};if(!k)return null;const ge=()=>{switch(y){case"sad":return"from-blue-700 to-indigo-900 bg-opacity-70";case"anxious":return"from-indigo-800 to-purple-900";case"grateful":return"from-green-600 to-teal-800";case"tired":return"from-blue-800 to-indigo-900";case"energized":return"from-amber-600 to-orange-800";default:return"from-indigo-500 to-purple-600"}},fe=()=>{switch(y){case"sad":return e.jsx(c.div,{className:"absolute inset-0 pointer-events-none bg-blue-500/5 backdrop-blur-sm",animate:{opacity:[.2,.4,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}});case"anxious":return e.jsx(c.div,{className:"absolute inset-0 pointer-events-none",animate:{backgroundColor:["rgba(76, 29, 149, 0.1)","rgba(76, 29, 149, 0.2)","rgba(76, 29, 149, 0.1)"]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}});case"grateful":return e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(12)].map((t,o)=>e.jsx(c.div,{className:"absolute w-8 h-8 bg-green-300/20 rounded-full",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`},initial:{scale:0,rotate:0},animate:{scale:[0,1,0],rotate:[0,90],opacity:[0,.7,0]},transition:{duration:8,delay:o*.5,repeat:1/0,ease:"easeInOut"}},o))});case"tired":return e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(5)].map((t,o)=>e.jsx(c.div,{className:"absolute w-20 h-10 bg-blue-200/10 rounded-full blur-md",style:{left:`${-10+o*25}%`,top:`${20+o*10}%`},animate:{x:["0%","100%"],opacity:[.3,.7,.3]},transition:{duration:15+o*5,repeat:1/0,ease:"linear"}},o))});case"energized":return e.jsx("div",{className:"absolute inset-0 pointer-events-none overflow-hidden",children:[...Array(20)].map((t,o)=>e.jsx(c.div,{className:"absolute w-2 h-2 bg-amber-300/30 rounded-full",style:{left:`${Math.random()*100}%`,bottom:"0%"},animate:{y:[0,-Math.random()*300-100],opacity:[0,.8,0]},transition:{duration:4+Math.random()*3,delay:o*.2,repeat:1/0,ease:"easeOut"}},o))});default:return null}},pe=t=>{switch(t){case"anxious":a("anxious"),g("I feel anxious"),r("calm");break;case"tired":a("tired"),g("I feel tired"),r("thinking");break;case"sad":a("sad"),g("I feel sad"),r("calm");break;case"grateful":a("grateful"),g("I feel grateful"),r("happy");break;case"happy":a("grateful"),g("I feel happy"),r("happy");break;case"calm":a("neutral"),g("I feel calm"),r("calm");break;case"focus":a("neutral"),g("I need to focus"),r("thinking");break;case"motivated":a("energized"),g("I feel motivated"),r("happy");break;case"confused":a("anxious"),g("I feel confused"),r("thinking");break;case"frustrated":a("anxious"),g("I feel frustrated"),r("thinking");break;case"loving":a("grateful"),g("I feel loving"),r("happy");break;case"growing":a("energized"),g("I feel like I'm growing"),r("happy");break;default:a("neutral"),g("I'm not sure how I feel"),r("thinking")}K(re().text)},[xe,ie]=n.useState(!0);return n.useEffect(()=>{P.length>1&&ie(!1)},[P]),e.jsxs("div",{className:`fixed inset-0 z-50 bg-gradient-to-br ${ge()} flex flex-col relative`,children:[fe(),e.jsx(q,{children:xe&&e.jsxs(c.div,{className:"absolute inset-0 bg-gradient-to-b from-purple-600/90 to-indigo-900/90 backdrop-blur-md flex flex-col items-center justify-center p-4 md:p-6 z-30",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("button",{onClick:$,className:"bg-white/20 backdrop-blur-sm p-2 rounded-full hover:bg-white/30 transition-colors",children:e.jsx(ae,{size:24,className:"text-white"})})}),e.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-6 md:mb-8 text-center",children:O}),e.jsx(ke,{onSelect:t=>pe(t)}),e.jsx(c.div,{className:"mt-8 w-full max-w-md",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(V,{className:"w-full bg-indigo-500 hover:bg-indigo-600 text-white py-3 rounded-xl text-base",onClick:()=>ie(!1),children:"Continue to Meditation"})})]})}),e.jsx(q,{children:j&&e.jsx(c.div,{className:"absolute inset-0 pointer-events-none flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},children:e.jsx(c.div,{className:"w-64 h-64 rounded-full bg-white/10 backdrop-blur-sm flex items-center justify-center",animate:{scale:[1,1.2,1],boxShadow:["0 0 0 0 rgba(255, 255, 255, 0.3)","0 0 0 20px rgba(255, 255, 255, 0.2)","0 0 0 40px rgba(255, 255, 255, 0.1)","0 0 0 0 rgba(255, 255, 255, 0)"]},transition:{duration:3,ease:"easeInOut"},children:e.jsx(Ie,{size:48,className:"text-white/70"})})})}),e.jsx("div",{className:"absolute top-4 left-4 z-30",children:e.jsx("button",{onClick:$,className:"bg-white/20 backdrop-blur-sm p-2 rounded-full hover:bg-white/30 transition-colors",children:e.jsx(ae,{size:24,className:"text-white"})})}),e.jsx(q,{children:u&&e.jsx("div",{className:"absolute top-16 md:top-20 right-2 md:right-4 z-20 max-w-[120px] md:max-w-[160px]",children:e.jsx(Se,{emotion:x,message:v,onAnimationComplete:()=>{}})})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-transparent relative z-10",children:e.jsxs("div",{className:"max-w-md mx-auto space-y-4",children:[e.jsxs(q,{children:[P.map(t=>e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${t.sender==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[85%] rounded-2xl p-3 relative ${t.sender==="user"?"bg-indigo-500 text-white rounded-tr-none":t.type==="breathing"?"bg-indigo-400/30 backdrop-blur-sm text-white rounded-tl-none":"bg-white/10 backdrop-blur-sm text-white rounded-tl-none"}`,children:[t.sender==="ai"&&t.showHugAnimation&&e.jsx(c.div,{className:"absolute -inset-2 rounded-full pointer-events-none",animate:{boxShadow:["0 0 0 0 rgba(255, 255, 255, 0)","0 0 0 4px rgba(255, 255, 255, 0.2)","0 0 0 8px rgba(255, 255, 255, 0.1)","0 0 0 0 rgba(255, 255, 255, 0)"]},transition:{duration:2,ease:"easeInOut",repeat:1}}),t.type==="breathing"?e.jsx(c.div,{className:"flex items-center justify-center py-2",animate:{scale:t.breathingCue==="inhale"?[1,1.2]:t.breathingCue==="hold"?1.2:t.breathingCue==="exhale"?[1.2,1]:1},transition:{duration:t.duration||4,ease:"easeInOut"},children:e.jsx("p",{className:"text-lg font-light",children:t.content})}):e.jsx("p",{className:"text-sm whitespace-pre-line",children:t.content.split(/(\[pause\]|\[breathe in\]|\[breathe out\])/).map((o,i)=>o==="[pause]"?e.jsx("span",{className:"text-white/50",children:"..."},i):o==="[breathe in]"?e.jsx("span",{className:"text-white/70 font-light italic",children:"breathe in..."},i):o==="[breathe out]"?e.jsx("span",{className:"text-white/70 font-light italic",children:"breathe out..."},i):e.jsx("span",{children:o},i))}),t.sender==="ai"&&t.suggestions&&t.suggestions.length>0&&e.jsx("div",{className:"mt-2 space-y-2",children:t.suggestions.map((o,i)=>e.jsx("button",{onClick:()=>g(o),className:"block w-full text-left text-sm bg-white/10 hover:bg-white/20 rounded-xl p-3 transition-colors text-white",children:o},i))})]})},t.id)),H&&e.jsx(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex justify-start",children:e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-2xl rounded-tl-none p-3",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-white/50 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})})]}),e.jsx("div",{ref:z})]})}),I&&e.jsx("div",{className:"bg-indigo-800/50 backdrop-blur-sm p-4 flex justify-center items-center relative z-10",children:e.jsxs("div",{className:"flex space-x-4 items-center",children:[e.jsx(V,{onClick:he,className:"bg-white/10 hover:bg-white/20 text-white rounded-full px-4 py-2",children:"End Meditation"}),e.jsx("div",{className:"relative",children:e.jsx(c.div,{animate:{scale:m==="inhale"?[1,1.5]:m==="hold"?1.5:m==="exhale"?[1.5,1]:1,boxShadow:m==="inhale"?["0 0 0 0 rgba(255, 255, 255, 0.3)","0 0 20px 10px rgba(255, 255, 255, 0.5)"]:m==="hold"?"0 0 20px 10px rgba(255, 255, 255, 0.5)":m==="exhale"?["0 0 20px 10px rgba(255, 255, 255, 0.5)","0 0 0 0 rgba(255, 255, 255, 0.3)"]:"0 0 0 0 rgba(255, 255, 255, 0.3)"},transition:{duration:m==="inhale"||m==="hold"?4:m==="exhale"?6:1,ease:"easeInOut"},className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Te,{size:20,className:"text-white"})})}),e.jsx("div",{className:"text-white text-sm",children:m==="inhale"?"Breathe In":m==="hold"?"Hold":m==="exhale"?"Breathe Out":"Rest"})]})}),!I&&e.jsx("div",{className:"p-4 border-t border-white/10 bg-transparent relative z-10",children:e.jsxs("div",{className:"max-w-md mx-auto flex",children:[e.jsx("button",{onClick:ce,className:`${N?"bg-red-500":"bg-indigo-500"} hover:opacity-90 text-white rounded-l-full px-4 py-2`,children:N?e.jsx(Me,{size:18}):e.jsx(We,{size:18})}),e.jsx("input",{type:"text",value:w,onChange:t=>B(t.target.value),onKeyPress:t=>t.key==="Enter"&&oe(),placeholder:"Tell me how you're feeling...",className:"flex-1 border border-white/20 bg-white/10 text-white placeholder-white/50 px-4 py-2 focus:outline-none focus:ring-2 focus:ring-white/30"}),e.jsx("button",{onClick:oe,className:"bg-indigo-500 hover:bg-indigo-600 text-white rounded-r-full px-4 py-2",children:e.jsx(Ne,{size:18})})]})}),e.jsx(q,{children:te&&e.jsx(c.div,{className:"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(c.div,{className:"bg-gradient-to-br from-indigo-700 to-purple-800 rounded-xl p-5 w-full max-w-md",initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",bounce:.3},children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("h3",{className:"text-xl font-semibold text-white flex items-center",children:[e.jsx(He,{size:18,className:"mr-2"}),"Save Your Reflection"]}),e.jsx("button",{onClick:()=>L(!1),className:"text-white/70 hover:text-white",children:e.jsx(de,{size:18})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c.p,{className:"text-white/90 text-sm mb-2",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:.2},children:"Write your thoughts about today's meditation:"}),e.jsx(c.textarea,{value:_,onChange:t=>J(t.target.value),placeholder:"Today, I felt...",className:"w-full h-32 bg-white/10 border border-white/20 rounded-lg p-3 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-white/30 resize-none",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3}})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(V,{onClick:()=>L(!1),className:"flex-1 bg-white/10 hover:bg-white/20 text-white",children:"Skip"}),e.jsx(V,{onClick:ye,className:"flex-1 bg-indigo-500 hover:bg-indigo-600 text-white",children:"Save Reflection"})]})]})]})})}),F&&e.jsx(Ce,{isOpen:F,onClose:()=>C(!1),meditationTitle:G,meditationDuration:Z,onScheduled:me})]})};export{Oe as M,Ce as S,Te as W};
//# sourceMappingURL=MeditationChat-Ckgv1SZC.js.map
