import{d as h,r as o,j as l,P as c,n as I,p as g,c as f}from"./index-BnT946GU.js";var m="Avatar",[j,P]=h(m),[C,p]=j(m),A=o.forwardRef((a,e)=>{const{__scopeAvatar:r,...t}=a,[n,s]=o.useState("idle");return l.jsx(C,{scope:r,imageLoadingStatus:n,onImageLoadingStatusChange:s,children:l.jsx(c.span,{...t,ref:e})})});A.displayName=m;var x="AvatarImage",w=o.forwardRef((a,e)=>{const{__scopeAvatar:r,src:t,onLoadingStatusChange:n=()=>{},...s}=a,i=p(x,r),d=_(t,s.referrerPolicy),u=I(v=>{n(v),i.onImageLoadingStatusChange(v)});return g(()=>{d!=="idle"&&u(d)},[d,u]),d==="loaded"?l.jsx(c.img,{...s,ref:e,src:t}):null});w.displayName=x;var S="AvatarFallback",N=o.forwardRef((a,e)=>{const{__scopeAvatar:r,delayMs:t,...n}=a,s=p(S,r),[i,d]=o.useState(t===void 0);return o.useEffect(()=>{if(t!==void 0){const u=window.setTimeout(()=>d(!0),t);return()=>window.clearTimeout(u)}},[t]),i&&s.imageLoadingStatus!=="loaded"?l.jsx(c.span,{...n,ref:e}):null});N.displayName=S;function _(a,e){const[r,t]=o.useState("idle");return g(()=>{if(!a){t("error");return}let n=!0;const s=new window.Image,i=d=>()=>{n&&t(d)};return t("loading"),s.onload=i("loaded"),s.onerror=i("error"),s.src=a,e&&(s.referrerPolicy=e),()=>{n=!1}},[a,e]),r}var L=A,y=w,R=N;const b=o.forwardRef(({className:a,...e},r)=>l.jsx(L,{ref:r,className:f("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e}));b.displayName=L.displayName;const E=o.forwardRef(({className:a,src:e,...r},t)=>l.jsx(y,{ref:t,src:e||"/images/default-avatar.svg",className:f("aspect-square h-full w-full",a),...r}));E.displayName=y.displayName;const k=o.forwardRef(({className:a,...e},r)=>l.jsx(R,{ref:r,className:f("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...e}));k.displayName=R.displayName;export{b as A,E as a,k as b};
//# sourceMappingURL=avatar-BX782pLr.js.map
