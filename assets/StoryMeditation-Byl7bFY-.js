import{u as Y,b as $,a as L,r as n,j as e,c as V}from"./index-BnT946GU.js";import{B as W}from"./BottomNavigation-BMpz9iHf.js";import{A as G}from"./arrow-left-BQRj5OLm.js";import{V as U}from"./volume-x-jAQQL-64.js";import{V as Q}from"./volume-2-BEmKT4oD.js";import{A as X}from"./index-W5K3Lpim.js";import{m as a}from"./motion-C3UotyFw.js";import{H as _}from"./heart-BCoYQEt4.js";import{S as J}from"./shuffle-DTOgsgx4.js";import{S as K,a as Z}from"./skip-forward-BaFF8Ov8.js";import{P as ee}from"./pause-BKfEO_53.js";import{P as te}from"./play-CA7RRDVw.js";import{R as ae}from"./repeat-DB5Dk2A3.js";import"./house-dwdhjP9X.js";import"./users-DV2HI9A8.js";import"./user-25xAvN84.js";const d={LOW:{label:"Low Frequency (Calming, Grounding)",color:"from-blue-400 to-blue-600"},MID:{label:"Mid Frequency (Soothing, Ambient)",color:"from-cyan-400 to-cyan-600"},HIGH:{label:"High Frequency (Subtle, Ethereal)",color:"from-purple-400 to-purple-600"}},je=()=>{const P={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.6,ease:"easeOut"}},T={initial:{scale:1},animate:{scale:1.05},transition:{duration:1,repeat:1/0,repeatType:"reverse"}},C={scale:1.05,transition:{duration:.2}},z=Y(),H=$(),{toast:b}=L(),[r,m]=n.useState(!1),[p,A]=n.useState(!1),[E,y]=n.useState(0),[q,v]=n.useState("00:00"),[j,w]=n.useState(!1),s=n.useRef(null),u=n.useRef(null),[N,S]=n.useState([]),[f,R]=n.useState("MID"),[se,I]=n.useState(!1),i=H.state||{title:"The Whispering Forest",description:"A walk through a magical, quiet woodland.",image:"/lovable-uploads/whispering-forest.svg",duration:"15:00",icon:"ðŸŒ²"},k=t=>{const o=Math.floor(t/60),c=Math.floor(t%60);return`${o.toString().padStart(2,"0")}:${c.toString().padStart(2,"0")}`},x=(()=>{if(!i.duration)return 900;if(typeof i.duration=="string"&&i.duration.includes("Min"))return parseInt(i.duration.split(" ")[0])*60;if(typeof i.duration=="string"&&i.duration.includes(":")){const[t,o]=i.duration.split(":").map(Number);return t*60+(o||0)}return 900})(),B=k(x);n.useEffect(()=>{const t=()=>{const c=[];for(let l=0;l<50;l++){const g=Math.sin(Date.now()/1e3+l*.2),O=Math.random()*100;c.push({height:O,frequency:g})}return c};S(t());const o=setInterval(()=>{r&&(S(t()),R(c=>{const l=Object.keys(d),g=l.indexOf(c);return l[(g+1)%l.length]}))},100);return()=>clearInterval(o)},[r]);const h=()=>{j&&(w(!1),y(0),v("00:00"),s.current&&(s.current.currentTime=0)),r?(s.current&&s.current.pause(),clearInterval(u.current)):(s.current&&s.current.play().catch(t=>{console.error("Error playing audio:",t),b({title:"Audio Error",description:"There was an error playing the audio. Please try again."})}),u.current=setInterval(()=>{y(t=>{if(t>=100)return clearInterval(u.current),m(!1),w(!0),s.current&&s.current.pause(),100;const o=Math.floor(x*t/100);return v(k(o)),t+100/(x/.5)})},500)),m(!r)},D=()=>{s.current&&(s.current.muted=!p),A(!p)},M=()=>{r&&(s.current&&s.current.pause(),clearInterval(u.current)),z(-1)};n.useEffect(()=>()=>{u.current&&clearInterval(u.current),s.current&&s.current.pause()},[]);const F=()=>{const t=i.title.toLowerCase();return t.includes("forest")||t.includes("tree")?"/lovable-uploads/forest-meditation.jpg":t.includes("night")||t.includes("star")||t.includes("dream")?"/lovable-uploads/starlit-dreams.jpg":t.includes("ocean")||t.includes("sea")||t.includes("water")?"/lovable-uploads/ocean-waves.jpg":t.includes("mountain")?"/lovable-uploads/mountain-serenity.jpg":t.includes("flower")||t.includes("garden")?"/lovable-uploads/peaceful-garden.jpg":t.includes("rain")?"/lovable-uploads/gentle-rainfall.jpg":t.includes("sun")||t.includes("morning")?"/lovable-uploads/sunrise-meditation.jpg":t.includes("moon")?"/lovable-uploads/moonlight-magic.jpg":t.includes("child")||t.includes("kid")?"/lovable-uploads/child-meditation.jpg":"/lovable-uploads/whispering-forest.jpg"};return e.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[e.jsxs("header",{className:"flex items-center justify-between px-6 pt-6 pb-4 bg-transparent",children:[e.jsx("button",{onClick:M,className:"text-gray-800",children:e.jsx(G,{size:24})}),e.jsx("div",{className:"flex items-center",children:e.jsx("img",{src:"/lovable-uploads/600dca76-c989-40af-876f-bd95270e81fc.png",alt:"Shh Logo",className:"h-8",style:{filter:"invert(45%) sepia(60%) saturate(2210%) hue-rotate(205deg) brightness(101%) contrast(101%)"}})}),e.jsx("div",{className:"flex space-x-4",children:e.jsx("button",{className:"text-gray-800",onClick:D,children:p?e.jsx(U,{size:24}):e.jsx(Q,{size:24})})})]}),e.jsx(X,{children:j?e.jsx(a.div,{className:"flex-1 flex flex-col items-center justify-center px-6",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(a.div,{className:"bg-white/10 backdrop-blur-md rounded-2xl p-8 max-w-md w-full text-center",initial:{scale:.9,y:20},animate:{scale:1,y:0},transition:{delay:.2},children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-green-500/30 backdrop-blur-sm flex items-center justify-center mx-auto mb-6",children:e.jsx(_,{size:40,className:"text-white"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Story Complete"}),e.jsxs("p",{className:"text-white/80 mb-6",children:[`You've completed "`,i.title,'". We hope you enjoyed it.']}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:M,className:"flex-1 py-3 px-4 rounded-xl bg-white/10 hover:bg-white/20 transition-colors text-white",children:"Back to Stories"}),e.jsx("button",{onClick:h,className:"flex-1 py-3 px-4 rounded-xl bg-white/20 hover:bg-white/30 transition-colors text-white",children:"Play Again"})]})]})}):e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6",children:[e.jsxs(a.div,{className:"w-full max-w-[500px] aspect-square rounded-full overflow-hidden border-8 border-white/30 shadow-2xl mb-8 relative",initial:"initial",animate:"animate",variants:T,children:[e.jsx(a.div,{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${F()})`}}),e.jsx(a.div,{className:"absolute inset-0 bg-gradient-to-br from-blue-500/40 via-cyan-500/30 to-purple-500/40 backdrop-blur-sm",animate:{opacity:[.4,.6,.4],scale:[1,1.05,1]},transition:{duration:6,repeat:1/0,repeatType:"reverse",ease:"easeInOut"}}),e.jsx(a.div,{className:"absolute inset-0 flex items-center justify-center",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.6},children:e.jsx(a.span,{className:"text-9xl relative z-10 drop-shadow-2xl",initial:{scale:.9},animate:{scale:1.1},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:i.icon})})]}),e.jsxs(a.div,{className:"text-center mb-10",variants:P,initial:"initial",animate:"animate",exit:"exit",children:[e.jsx(a.h1,{className:"text-gray-800 text-2xl font-bold mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:i.title}),e.jsx(a.p,{className:"text-gray-600 text-sm",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:i.description})]}),e.jsxs("div",{className:"w-full mb-4 relative",children:[e.jsx(a.div,{className:"absolute inset-0 bg-gradient-to-r opacity-20",animate:{background:[`linear-gradient(90deg, ${d[f].color})`,`linear-gradient(90deg, ${d[f].color})`]},transition:{duration:1}}),e.jsx("div",{className:"flex items-end justify-between h-16 px-2 relative",children:N.map((t,o)=>{const l=o/N.length*100<=E;return e.jsx(a.div,{className:V("w-1 rounded-full mx-0.5",l?`bg-gradient-to-t ${d[f].color}`:"bg-gray-200"),initial:{height:"20%"},animate:{height:`${Math.max(15,r?t.height+t.frequency*20:t.height)}%`,opacity:r?[.6,1]:.8},transition:{duration:.4,ease:"easeInOut"}},o)})}),e.jsx("style",{jsx:!0,children:`
                @keyframes pulse {
                  0% { transform: scaleY(1); }
                  50% { transform: scaleY(1.1); }
                  100% { transform: scaleY(1); }
                }
              `})]}),e.jsxs("div",{className:"flex justify-between w-full text-white mb-6",children:[e.jsx("span",{className:"text-sm",children:q}),e.jsx("span",{className:"text-sm",children:B})]}),e.jsxs("div",{className:"flex items-center justify-between w-full mb-8",children:[e.jsx("button",{className:"text-gray-600 hover:text-blue-500 transition-colors p-2 rounded-full hover:bg-gray-100",children:e.jsx(J,{size:20})}),e.jsx("button",{className:"text-gray-600 hover:text-blue-500 transition-colors p-2 rounded-full hover:bg-gray-100",children:e.jsx(K,{size:24})}),e.jsxs(a.button,{onClick:h,className:"relative bg-gradient-to-br from-cyan-500 to-blue-600 text-white p-4 rounded-full shadow-lg overflow-hidden",whileHover:C,whileTap:{scale:.95},onHoverStart:()=>I(!0),onHoverEnd:()=>I(!1),children:[e.jsx(a.div,{className:"absolute inset-0 bg-gradient-to-br from-cyan-400/30 to-blue-500/30",animate:{scale:r?[1,1.2,1]:1,opacity:r?[.2,.4,.2]:.2},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),e.jsx(a.div,{animate:{scale:r?[1,1.1,1]:1,rotate:r?[0,180,360]:0},transition:{duration:r?4:.3,repeat:r?1/0:0,ease:"linear"},children:r?e.jsx(ee,{size:28}):e.jsx(te,{size:28,className:"ml-1"})})]}),e.jsx("button",{className:"text-gray-600 hover:text-blue-500 transition-colors p-2 rounded-full hover:bg-gray-100",children:e.jsx(Z,{size:24})}),e.jsx("button",{className:"text-gray-600 hover:text-blue-500 transition-colors p-2 rounded-full hover:bg-gray-100",children:e.jsx(ae,{size:20})})]}),e.jsxs(a.button,{className:"relative bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-600 text-white text-lg font-medium mb-8 px-8 py-3 rounded-full shadow-lg overflow-hidden",whileHover:{scale:1.05,backgroundPosition:["0%","100%"],transition:{duration:1,repeat:1/0,repeatType:"reverse"}},whileTap:{scale:.95},onClick:()=>{m(!0),h(),b({title:"Meditation Started",description:"Relax and enjoy your meditation journey",duration:3e3})},children:[e.jsx(a.div,{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent",animate:{x:["0%","100%"],opacity:[0,.5,0]},transition:{duration:2,repeat:1/0,ease:"linear"}}),e.jsx("span",{className:"relative z-10",children:"Start Meditation"})]})]})}),e.jsxs("audio",{ref:s,loop:!0,children:[e.jsx("source",{src:"/lovable-uploads/meditation-sound.mp3",type:"audio/mpeg"}),e.jsx("source",{src:"/meditation-sound.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]}),e.jsx(W,{})]})};export{je as default};
//# sourceMappingURL=StoryMeditation-Byl7bFY-.js.map
