{"version":3,"file":"Notifications-Cv6jtXs9.js","sources":["../../src/pages/Notifications.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Bell, ArrowLeft, CheckCircle, Calendar, Play, User, Heart, MessageSquare, Trophy, Clock, Users, Star } from 'lucide-react';\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport BottomNavigation from '@/components/BottomNavigation';\r\nimport VideoPopup from '@/components/VideoPopup';\r\n\r\ninterface Notification {\r\n  id: string;\r\n  type: 'reminder' | 'achievement' | 'social' | 'system';\r\n  title: string;\r\n  message: string;\r\n  timestamp: string;\r\n  category: 'today' | 'yesterday' | 'last_week';\r\n  isRead: boolean;\r\n  action?: {\r\n    type: 'play' | 'view' | 'respond';\r\n    label: string;\r\n    data?: any;\r\n  };\r\n  image?: string;\r\n  iconBg?: string;\r\n  icon?: React.ReactNode;\r\n}\r\n\r\nconst Notifications: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n  const [showVideoPopup, setShowVideoPopup] = useState<boolean>(false);\r\n  const [currentVideo, setCurrentVideo] = useState<{title: string, duration: string}>({title: \"\", duration: \"\"});\r\n\r\n  const [notifications, setNotifications] = useState<Notification[]>([\r\n    {\r\n      id: \"1\",\r\n      type: 'reminder',\r\n      title: 'Take a Deep Breath!',\r\n      message: 'Your 1-minute reset is ready. Refresh before picking up your kids.',\r\n      category: 'today',\r\n      timestamp: '1 hour ago',\r\n      isRead: false,\r\n      action: {\r\n        type: 'play',\r\n        label: 'Start Now',\r\n        data: {\r\n          title: 'Deep Breath Meditation',\r\n          duration: '1 Min'\r\n        }\r\n      },\r\n      iconBg: 'bg-blue-500',\r\n      icon: <User className=\"text-white\" size={20} />\r\n    },\r\n    {\r\n      id: \"2\",\r\n      type: 'reminder',\r\n      title: 'Time to Unwind!',\r\n      message: \"Tonight's featured sleep story: The Whispering Forest ðŸŒ™ Tap to listen.\",\r\n      category: 'today',\r\n      timestamp: '3 hours ago',\r\n      isRead: false,\r\n      action: {\r\n        type: 'play',\r\n        label: 'Listen Now',\r\n        data: {\r\n          title: 'The Whispering Forest',\r\n          duration: '20 Min'\r\n        }\r\n      },\r\n      iconBg: 'bg-blue-500',\r\n      icon: <Clock className=\"text-white\" size={20} />\r\n    },\r\n    {\r\n      id: \"3\",\r\n      type: 'reminder',\r\n      title: 'Fresh Meditation Just for You!',\r\n      message: 'Try our latest 5-Minute Morning Boost session and start your day right',\r\n      category: 'today',\r\n      timestamp: '5 hours ago',\r\n      isRead: false,\r\n      action: {\r\n        type: 'play',\r\n        label: 'Start Now',\r\n        data: {\r\n          title: 'Morning Boost',\r\n          duration: '5 Min'\r\n        }\r\n      },\r\n      iconBg: 'bg-blue-500',\r\n      icon: <User className=\"text-white\" size={20} />\r\n    },\r\n    {\r\n      id: \"4\",\r\n      type: 'achievement',\r\n      title: \"Don't Break Your Streak!\",\r\n      message: \"You're on a 5-day meditation streak! Keep going strong.\",\r\n      category: 'yesterday',\r\n      timestamp: 'Yesterday',\r\n      isRead: true,\r\n      iconBg: 'bg-blue-500',\r\n      icon: <User className=\"text-white\" size={20} />\r\n    },\r\n    {\r\n      id: \"5\",\r\n      type: 'social',\r\n      title: 'Join the Conversation!',\r\n      message: 'A new discussion has started in the Parent Mindfulness group. Share your thoughts!',\r\n      category: 'last_week',\r\n      timestamp: '3 days ago',\r\n      isRead: true,\r\n      iconBg: 'bg-blue-500',\r\n      icon: <Users className=\"text-white\" size={20} />\r\n    },\r\n    {\r\n      id: \"6\",\r\n      type: 'achievement',\r\n      title: \"Congrats! You've Earned a Badge!\",\r\n      message: \"You just unlocked the Peaceful Parent badge. Keep up the great work!\",\r\n      category: 'last_week',\r\n      timestamp: '5 days ago',\r\n      isRead: true,\r\n      iconBg: 'bg-blue-500',\r\n      icon: <Star className=\"text-white\" size={20} />\r\n    }\r\n  ]);\r\n\r\n  const handleBack = () => {\r\n    navigate(-1);\r\n  };\r\n\r\n  const handlePlay = (title: string, duration: string) => {\r\n    setCurrentVideo({title, duration});\r\n    setShowVideoPopup(true);\r\n  };\r\n\r\n  const handleMarkAllRead = () => {\r\n    setNotifications(notifications.map(notification => ({\r\n      ...notification,\r\n      isRead: true\r\n    })));\r\n\r\n    toast({\r\n      title: \"All Notifications Read\",\r\n      description: \"Marked all notifications as read\",\r\n    });\r\n  };\r\n\r\n  const handleAction = (notification: Notification) => {\r\n    // Mark as read\r\n    setNotifications(notifications.map(n =>\r\n      n.id === notification.id ? {...n, isRead: true} : n\r\n    ));\r\n\r\n    if (!notification.action) return;\r\n\r\n    switch (notification.action.type) {\r\n      case 'play':\r\n        if (notification.action.data) {\r\n          handlePlay(notification.action.data.title, notification.action.data.duration);\r\n        }\r\n        break;\r\n      case 'view':\r\n        toast({\r\n          title: \"View Content\",\r\n          description: \"Viewing content coming soon\",\r\n        });\r\n        break;\r\n      case 'respond':\r\n        toast({\r\n          title: \"Reply\",\r\n          description: \"Reply feature coming soon\",\r\n        });\r\n        break;\r\n    }\r\n  };\r\n\r\n  // Group notifications by category\r\n  const todayNotifications = notifications.filter(n => n.category === 'today');\r\n  const yesterdayNotifications = notifications.filter(n => n.category === 'yesterday');\r\n  const lastWeekNotifications = notifications.filter(n => n.category === 'last_week');\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-white pb-16\">\r\n      {/* Header */}\r\n      <div className=\"bg-white py-3 px-4 flex items-center justify-between border-b border-gray-200\">\r\n        <button onClick={handleBack} className=\"text-gray-600\">\r\n          <ArrowLeft size={20} />\r\n        </button>\r\n\r\n        <div className=\"flex items-center\">\r\n          <img\r\n            src=\"/lovable-uploads/600dca76-c989-40af-876f-bd95270e81fc.png\"\r\n            alt=\"Shh\"\r\n            className=\"h-8\" style={{ filter: 'invert(30%) sepia(36%) saturate(1137%) hue-rotate(210deg) brightness(94%) contrast(85%)' }}\r\n          />\r\n        </div>\r\n\r\n        <button className=\"text-amber-500\">\r\n          <Trophy size={20} />\r\n        </button>\r\n      </div>\r\n\r\n      {/* Title */}\r\n      <div className=\"flex items-center justify-between px-6 py-4\">\r\n        <h1 className=\"text-2xl font-bold\">Notifications</h1>\r\n        <button onClick={handleMarkAllRead} className=\"text-sm text-gray-500\">\r\n          Clear All\r\n        </button>\r\n      </div>\r\n\r\n      {/* Notifications List */}\r\n      <div className=\"flex-1 px-4\">\r\n        {notifications.length === 0 ? (\r\n          <div className=\"flex flex-col items-center justify-center py-12\">\r\n            <Bell size={48} className=\"text-gray-300 mb-4\" />\r\n            <h3 className=\"text-lg font-medium text-gray-700\">No Notifications</h3>\r\n            <p className=\"text-gray-500 text-sm text-center mt-2\">\r\n              You're all caught up! Check back later for updates.\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div>\r\n            {/* Today's Notifications */}\r\n            {todayNotifications.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h2 className=\"text-lg font-semibold mb-3\">Today</h2>\r\n                <div className=\"space-y-4\">\r\n                  {todayNotifications.map(notification => (\r\n                    <div\r\n                      key={notification.id}\r\n                      className=\"flex items-start\"\r\n                      onClick={() => handleAction(notification)}\r\n                    >\r\n                      <div className={`${notification.iconBg} w-14 h-14 rounded-full flex items-center justify-center mr-3 flex-shrink-0`}>\r\n                        {notification.icon}\r\n                      </div>\r\n\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-medium text-gray-900\">{notification.title}</h3>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\r\n                        <div className=\"flex justify-between items-center mt-1\">\r\n                          <button className=\"text-xs text-gray-500\">\r\n                            {notification.action?.label || \"View\"}\r\n                          </button>\r\n                          <button className=\"text-gray-400\">\r\n                            <span className=\"dots-menu\"></span>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Yesterday's Notifications */}\r\n            {yesterdayNotifications.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h2 className=\"text-lg font-semibold mb-3\">Yesterday</h2>\r\n                <div className=\"space-y-4\">\r\n                  {yesterdayNotifications.map(notification => (\r\n                    <div\r\n                      key={notification.id}\r\n                      className=\"flex items-start\"\r\n                      onClick={() => handleAction(notification)}\r\n                    >\r\n                      <div className={`${notification.iconBg} w-14 h-14 rounded-full flex items-center justify-center mr-3 flex-shrink-0`}>\r\n                        {notification.icon}\r\n                      </div>\r\n\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-medium text-gray-900\">{notification.title}</h3>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\r\n                        <div className=\"flex justify-between items-center mt-1\">\r\n                          <button className=\"text-xs text-gray-500\">\r\n                            {notification.action?.label || \"View\"}\r\n                          </button>\r\n                          <button className=\"text-gray-400\">\r\n                            <span className=\"dots-menu\"></span>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Last Week's Notifications */}\r\n            {lastWeekNotifications.length > 0 && (\r\n              <div className=\"mb-6\">\r\n                <h2 className=\"text-lg font-semibold mb-3\">Last week</h2>\r\n                <div className=\"space-y-4\">\r\n                  {lastWeekNotifications.map(notification => (\r\n                    <div\r\n                      key={notification.id}\r\n                      className=\"flex items-start\"\r\n                      onClick={() => handleAction(notification)}\r\n                    >\r\n                      <div className={`${notification.iconBg} w-14 h-14 rounded-full flex items-center justify-center mr-3 flex-shrink-0`}>\r\n                        {notification.icon}\r\n                      </div>\r\n\r\n                      <div className=\"flex-1\">\r\n                        <h3 className=\"font-medium text-gray-900\">{notification.title}</h3>\r\n                        <p className=\"text-sm text-gray-600 mt-1\">{notification.message}</p>\r\n                        <div className=\"flex justify-between items-center mt-1\">\r\n                          <button className=\"text-xs text-gray-500\">\r\n                            {notification.action?.label || \"View\"}\r\n                          </button>\r\n                          <button className=\"text-gray-400\">\r\n                            <span className=\"dots-menu\"></span>\r\n                          </button>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Video Popup */}\r\n      {showVideoPopup && (\r\n        <VideoPopup\r\n          title={currentVideo.title}\r\n          duration={currentVideo.duration}\r\n          onClose={() => setShowVideoPopup(false)}\r\n        />\r\n      )}\r\n\r\n      {/* Bottom Navigation */}\r\n      <BottomNavigation />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Notifications;\r\n"],"names":["Notifications","navigate","useNavigate","toast","useToast","showVideoPopup","setShowVideoPopup","useState","currentVideo","setCurrentVideo","title","duration","notifications","setNotifications","id","type","message","category","timestamp","isRead","action","label","data","iconBg","icon","User","className","size","Clock","Users","Star","handleBack","handlePlay","handleMarkAllRead","map","notification","description","handleAction","n","todayNotifications","filter","yesterdayNotifications","lastWeekNotifications","div","button","onClick","ArrowLeft","img","src","alt","style","Trophy","h1","length","Bell","h3","p","_jsxs","h2","span","VideoPopup","onClose","_jsx","BottomNavigation"],"mappings":"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"}