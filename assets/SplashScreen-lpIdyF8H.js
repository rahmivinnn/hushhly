var rt=Object.defineProperty;var lt=(t,s,a)=>s in t?rt(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;var Z=(t,s,a)=>lt(t,typeof s!="symbol"?s+"":s,a);import{R as G,r as f,j as e,c as H,u as ot,J as N}from"./index-BnT946GU.js";import{B as k}from"./button-B6LXQo29.js";import{p as Ae}from"./promoCodeService-8OR0XIRB.js";import{u as Be}from"./useAuthSimple-7TrV8nxw.js";import{I as ct}from"./input-Cq4gGQzI.js";import{p as De}from"./paymentService-CEQw_n40.js";import{b as te}from"./balanceService-BrshoRSL.js";import{D as $e,a as Te,b as dt,c as ut,d as mt}from"./dialog-CXV6IzOJ.js";import{A as _}from"./arrow-left-BQRj5OLm.js";import{C as Q}from"./chevron-right-CZyn8roS.js";import"./tslib.es6-De9GV7Vy.js";var Oe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ie=G.createContext&&G.createContext(Oe),ht=["attr","size","title"];function xt(t,s){if(t==null)return{};var a=pt(t,s),n,i;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(i=0;i<r.length;i++)n=r[i],!(s.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}function pt(t,s){if(t==null)return{};var a={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(s.indexOf(n)>=0)continue;a[n]=t[n]}return a}function le(){return le=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},le.apply(this,arguments)}function Fe(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);s&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),a.push.apply(a,n)}return a}function oe(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?Fe(Object(a),!0).forEach(function(n){ft(t,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):Fe(Object(a)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(a,n))})}return t}function ft(t,s,a){return s=gt(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function gt(t){var s=yt(t,"string");return typeof s=="symbol"?s:s+""}function yt(t,s){if(typeof t!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var n=a.call(t,s||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(t)}function Ve(t){return t&&t.map((s,a)=>G.createElement(s.tag,oe({key:a},s.attr),Ve(s.child)))}function ge(t){return s=>G.createElement(bt,le({attr:oe({},t.attr)},s),Ve(t.child))}function bt(t){var s=a=>{var{attr:n,size:i,title:r}=t,l=xt(t,ht),c=i||a.size||"1em",o;return a.className&&(o=a.className),t.className&&(o=(o?o+" ":"")+t.className),G.createElement("svg",le({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,n,l,{className:o,style:oe(oe({color:t.color||a.color},a.style),t.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),r&&G.createElement("title",null,r),t.children)};return Ie!==void 0?G.createElement(Ie.Consumer,null,a=>s(a)):s(Oe)}function jt(t){return ge({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}function ee(t){return ge({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function re(t){return ge({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M325.3 234.3L104.6 13l280.8 161.2-60.1 60.1zM47 0C34 6.8 25.3 19.2 25.3 35.3v441.3c0 16.1 8.7 28.5 21.7 35.3l256.6-256L47 0zm425.2 225.6l-58.9-34.1-65.7 64.5 65.7 64.5 60.1-34.1c18-14.3 18-46.5-1.2-60.8zM104.6 499l280.8-161.2-60.1-60.1L104.6 499z"},child:[]}]})(t)}const vt=()=>{const[t,s]=f.useState(null),[a,n]=f.useState(!1),{user:i}=Be();f.useEffect(()=>{Ae.initializeSamplePromoCodes()},[]);const r=async(d,p)=>{const b=(i==null?void 0:i.id)||`temp_user_${Date.now()}`;n(!0);try{const m=await Ae.validatePromoCode(d,p,b);return m.isValid&&m.promoDetails&&s(m.promoDetails),m}catch(m){return console.error("Error applying promo code:",m),{isValid:!1,message:"An error occurred while validating the promo code"}}finally{n(!1)}},l=()=>{s(null)},c=d=>{if(!t)return d;if(t.discountType==="free")return 0;if(t.discountType==="percentage"){const p=d*t.discountValue/100;return Math.max(0,d-p)}return t.discountType==="fixed"?Math.max(0,d-t.discountValue):d};return{applyPromoCode:r,removePromoCode:l,activePromo:t,isValidating:a,calculateDiscountedPrice:c,getFormattedDiscountText:d=>{if(!t)return"";const p=c(d),b=d-p;return b<=0?"":t.discountType==="free"?t.duration==="lifetime"?"Free forever":t.duration==="months"&&t.durationValue?`Free for ${t.durationValue} ${t.durationValue===1?"month":"months"}`:t.duration==="days"&&t.durationValue?`Free for ${t.durationValue} ${t.durationValue===1?"day":"days"}`:"Free":t.discountType==="percentage"?`${t.discountValue}% off (Save $${b.toFixed(2)})`:t.discountType==="fixed"?`$${t.discountValue} off`:""}}},S=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,R=()=>/Android/.test(navigator.userAgent);class wt{constructor(){Z(this,"lastSuccessfulAuth",0);Z(this,"AUTH_VALID_DURATION",2*60*1e3)}async isAvailable(){try{return S()}catch(s){return console.error("Error checking Face ID availability:",s),!1}}isRecentlyAuthenticated(){return Date.now()-this.lastSuccessfulAuth<this.AUTH_VALID_DURATION}async authenticate(s="Verify your identity to complete this payment"){try{if(this.isRecentlyAuthenticated())return console.log("Using recent Face ID authentication"),{success:!0,confidence:.99,features:{eyes:!0,nose:!0,mouth:!0,skinTexture:!0,depthMap:!0}};if(!await this.isAvailable())return{success:!1,error:"Face ID is not available on this device"};const n=await this.simulateFaceIDAuthentication(s);return n.success&&(this.lastSuccessfulAuth=Date.now()),n}catch(a){return console.error("Face ID authentication error:",a),{success:!1,error:a instanceof Error?a.message:"Face ID authentication failed"}}}async simulateFaceIDAuthentication(s){return new Promise(a=>{setTimeout(()=>{if(Math.random()<.98){const i=Math.random()<.99,r=Math.random()<.99,l=Math.random()<.99,c=Math.random()<.98,o=Math.random()<.97,p=.8+[i,r,l,c,o].filter(Boolean).length/25;a(i&&r&&l?{success:!0,confidence:p,features:{eyes:i,nose:r,mouth:l,skinTexture:c,depthMap:o}}:{success:!1,error:"Face not fully recognized. Please ensure your face is clearly visible.",confidence:p,features:{eyes:i,nose:r,mouth:l,skinTexture:c,depthMap:o}})}else a({success:!1,error:"Face not recognized. Please try again.",confidence:Math.random()*.6})},2500)})}}const ye=new wt;class Nt{async isAvailable(){try{return S()}catch(s){return console.error("Error checking Apple Pay availability:",s),!1}}async processPayment(s){var a;try{if(!await this.isAvailable())return{success:!1,error:"Apple Pay is not available on this device"};await this.showApplePaySheet(s);const i=await ye.authenticate("Verify your identity to complete this payment");if(!i.success)return{success:!1,error:i.error||"Face ID authentication failed"};if(await new Promise(l=>setTimeout(l,2e3+Math.random()*1e3)),Math.random()<.1)return{success:!1,error:"Payment declined by your bank. Please try again or use a different payment method."};const r=await te.deductBalance(s.userId,s.amount,s.description,"apple_pay");return r.success?{success:!0,transactionId:((a=r.transaction)==null?void 0:a.id)||`ap_${Date.now()}${Math.floor(Math.random()*1e3)}`,authenticationDetails:{faceIdUsed:!0,faceIdConfidence:i.confidence,timestamp:Date.now()}}:{success:!1,error:r.error||"Payment processing failed"}}catch(n){return console.error("Apple Pay processing error:",n),{success:!1,error:n instanceof Error?n.message:"Apple Pay payment failed"}}}async showApplePaySheet(s){return new Promise(a=>{const n=document.createElement("div");n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundColor="rgba(0, 0, 0, 0.6)",n.style.zIndex="9999",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center";const i=document.createElement("div");i.style.width="90%",i.style.maxWidth="400px",i.style.backgroundColor="#000",i.style.borderRadius="12px",i.style.padding="20px",i.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.3)",i.style.color="#fff",i.style.fontFamily='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif';const r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.marginBottom="20px";const l=document.createElement("div");l.innerHTML=`<svg width="24" height="24" viewBox="0 0 24 24" fill="white">
        <path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/>
      </svg>`;const c=document.createElement("div");c.textContent="Apple Pay",c.style.marginLeft="8px",c.style.fontSize="18px",c.style.fontWeight="bold",r.appendChild(l),r.appendChild(c);const o=document.createElement("div");o.style.marginBottom="20px";const d=document.createElement("div");d.style.display="flex",d.style.justifyContent="space-between",d.style.marginBottom="10px";const p=document.createElement("div");p.textContent="Hushhly",p.style.color="#aaa";const b=document.createElement("div");b.textContent=s.description,d.appendChild(p),d.appendChild(b);const m=document.createElement("div");m.style.display="flex",m.style.justifyContent="space-between",m.style.marginBottom="10px";const j=document.createElement("div");j.textContent="Amount",j.style.color="#aaa";const D=document.createElement("div");D.textContent=`$${s.amount.toFixed(2)}`,D.style.fontWeight="bold",m.appendChild(j),m.appendChild(D),o.appendChild(d),o.appendChild(m);const u=document.createElement("button");u.textContent="Pay with Face ID",u.style.width="100%",u.style.backgroundColor="#007AFF",u.style.color="white",u.style.border="none",u.style.borderRadius="8px",u.style.padding="12px",u.style.fontSize="16px",u.style.fontWeight="bold",u.style.cursor="pointer",u.style.marginTop="10px";const I=document.createElement("span");I.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="white" style="margin-right: 8px; vertical-align: middle;">
        <path d="M9 9h.01M15 9h.01M8 13a4 4 0 008 0" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        <rect width="20" height="20" x="2" y="2" rx="5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>`,u.prepend(I),u.onclick=()=>{document.body.removeChild(n),a()};const h=document.createElement("button");h.textContent="Cancel",h.style.width="100%",h.style.backgroundColor="transparent",h.style.color="#007AFF",h.style.border="none",h.style.padding="12px",h.style.fontSize="16px",h.style.cursor="pointer",h.style.marginTop="10px",h.onclick=()=>{document.body.removeChild(n),a()},i.appendChild(r),i.appendChild(o),i.appendChild(u),i.appendChild(h),n.appendChild(i),document.body.appendChild(n),setTimeout(()=>{document.body.contains(n)&&(document.body.removeChild(n),a())},4e3+Math.random()*2e3)})}}const Me=new Nt;class Pt{constructor(){Z(this,"lastSuccessfulAuth",0);Z(this,"AUTH_VALID_DURATION",5*60*1e3)}async isAvailable(){try{const s=localStorage.getItem("hasBiometric");if(s==="true")return!0;if(s==="false")return!1;const a=Math.random()<.7&&(R()||S());return localStorage.setItem("hasBiometric",a.toString()),a}catch(s){return console.error("Error checking biometric availability:",s),!1}}async getBiometricType(){try{return R()?"fingerprint":S()?"face":"none"}catch(s){return console.error("Error getting biometric type:",s),"none"}}isRecentlyAuthenticated(){return Date.now()-this.lastSuccessfulAuth<this.AUTH_VALID_DURATION}async authenticate(s="Please authenticate to complete your payment"){try{if(this.isRecentlyAuthenticated())return console.log("Using recent authentication"),{success:!0};if(!await this.isAvailable())return{success:!1,error:"Biometric authentication is not available on this device"};const n=await this.getBiometricType();let i;if(R())console.log("Simulating Android fingerprint authentication"),i=await this.simulateAndroidFingerprint(s);else if(S())console.log("Simulating iOS Face ID authentication"),i=await this.simulateIOSBiometric(n,s);else return{success:!1,error:"Biometric authentication is not supported on this platform"};return i.success&&(this.lastSuccessfulAuth=Date.now()),i}catch(a){return console.error("Error during biometric authentication:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error during authentication"}}}async simulateAndroidFingerprint(s){return new Promise(a=>{setTimeout(()=>{const n=Math.random()<.95;a(n?{success:!0}:{success:!1,error:"Fingerprint not recognized. Please try again."})},6e3)})}async simulateIOSBiometric(s,a){return new Promise(n=>{setTimeout(()=>{const i=Math.random()<.95;n(i?{success:!0}:{success:!1,error:s==="face"?"Face not recognized. Please try again.":"Fingerprint not recognized. Please try again."})},7e3)})}async authenticateWithScreenLock(s="Please authenticate to complete your payment"){try{return this.isRecentlyAuthenticated()?(console.log("Using recent authentication"),{success:!0}):new Promise(a=>{setTimeout(()=>{Math.random()<.98?(this.lastSuccessfulAuth=Date.now(),a({success:!0})):a({success:!1,error:"Screen lock authentication failed. Please try again."})},5e3)})}catch(a){return console.error("Error during screen lock authentication:",a),{success:!1,error:a instanceof Error?a.message:"Unknown error during authentication"}}}}const se=new Pt;class Ct{async isAvailable(){try{return R()}catch(s){return console.error("Error checking Google Play availability:",s),!1}}async processPayment(s){var a;try{if(!await this.isAvailable())return{success:!1,error:"Google Play is not available on this device"};await this.showGooglePlaySheet(s);const i=await se.authenticate("Verify your identity to complete this payment");if(!i.success)return{success:!1,error:i.error||"Fingerprint authentication failed"};if(await new Promise(l=>setTimeout(l,2500+Math.random()*1500)),Math.random()<.1)return{success:!1,error:"Payment declined. Please check your Google Play account settings or try a different payment method."};const r=await te.deductBalance(s.userId,s.amount,s.description,"google_play");return r.success?{success:!0,transactionId:((a=r.transaction)==null?void 0:a.id)||`gp_${Date.now()}${Math.floor(Math.random()*1e3)}`,authenticationDetails:{fingerprintUsed:!0,fingerprintConfidence:i.confidence,timestamp:Date.now(),country:s.country}}:{success:!1,error:r.error||"Payment processing failed"}}catch(n){return console.error("Google Play processing error:",n),{success:!1,error:n instanceof Error?n.message:"Google Play payment failed"}}}async showGooglePlaySheet(s){return new Promise(a=>{const n=document.createElement("div");n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.width="100%",n.style.height="100%",n.style.backgroundColor="rgba(0, 0, 0, 0.6)",n.style.zIndex="9999",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center";const i=document.createElement("div");i.style.width="90%",i.style.maxWidth="400px",i.style.backgroundColor="#fff",i.style.borderRadius="12px",i.style.padding="20px",i.style.boxShadow="0 4px 20px rgba(0, 0, 0, 0.3)",i.style.color="#333",i.style.fontFamily="Roboto, sans-serif";const r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.marginBottom="20px";const l=document.createElement("div");l.innerHTML=`<svg width="24" height="24" viewBox="0 0 24 24" fill="#5F6368">
        <path d="M3.609 1.814L13.792 12 3.609 22.186c-.181.181-.29.435-.29.704 0 .269.109.523.29.704.181.181.435.29.704.29.269 0 .523-.109.704-.29L15.21 13.41c.181-.181.29-.435.29-.704 0-.269-.109-.523-.29-.704L5.027 1.814c-.181-.181-.435-.29-.704-.29-.269 0-.523.109-.704.29-.181.181-.29.435-.29.704 0 .269.109.523.29.704z"/>
        <path d="M10.609 1.814L20.792 12 10.609 22.186c-.181.181-.29.435-.29.704 0 .269.109.523.29.704.181.181.435.29.704.29.269 0 .523-.109.704-.29L22.21 13.41c.181-.181.29-.435.29-.704 0-.269-.109-.523-.29-.704L12.027 1.814c-.181-.181-.435-.29-.704-.29-.269 0-.523.109-.704.29-.181.181-.29.435-.29.704 0 .269.109.523.29.704z"/>
      </svg>`;const c=document.createElement("div");c.textContent="Google Play",c.style.marginLeft="8px",c.style.fontSize="18px",c.style.fontWeight="bold",c.style.color="#5F6368",r.appendChild(l),r.appendChild(c);const o=document.createElement("div");o.style.marginBottom="20px";const d=document.createElement("div");d.style.display="flex",d.style.justifyContent="space-between",d.style.marginBottom="10px";const p=document.createElement("div");p.textContent="Hushhly",p.style.color="#5F6368";const b=document.createElement("div");b.textContent=s.description,b.style.color="#202124",d.appendChild(p),d.appendChild(b);const m=document.createElement("div");m.style.display="flex",m.style.justifyContent="space-between",m.style.marginBottom="10px";const j=document.createElement("div");j.textContent="Amount",j.style.color="#5F6368";const D=document.createElement("div");if(D.textContent=`$${s.amount.toFixed(2)}`,D.style.fontWeight="bold",D.style.color="#202124",m.appendChild(j),m.appendChild(D),s.country){const C=document.createElement("div");C.style.display="flex",C.style.justifyContent="space-between",C.style.marginBottom="10px";const q=document.createElement("div");q.textContent="Country",q.style.color="#5F6368";const $=document.createElement("div");$.textContent=s.country,$.style.color="#202124",C.appendChild(q),C.appendChild($),o.appendChild(C)}o.appendChild(d),o.appendChild(m);const u=document.createElement("button");u.textContent="Pay with Fingerprint",u.style.width="100%",u.style.backgroundColor="#1a73e8",u.style.color="white",u.style.border="none",u.style.borderRadius="4px",u.style.padding="12px",u.style.fontSize="16px",u.style.fontWeight="bold",u.style.cursor="pointer",u.style.marginTop="10px";const I=document.createElement("span");I.innerHTML=`<svg width="16" height="16" viewBox="0 0 24 24" fill="white" style="margin-right: 8px; vertical-align: middle;">
        <path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"/>
      </svg>`,u.prepend(I),u.onclick=()=>{document.body.removeChild(n),a()};const h=document.createElement("button");h.textContent="Cancel",h.style.width="100%",h.style.backgroundColor="transparent",h.style.color="#1a73e8",h.style.border="none",h.style.padding="12px",h.style.fontSize="16px",h.style.cursor="pointer",h.style.marginTop="10px",h.onclick=()=>{document.body.removeChild(n),a()},i.appendChild(r),i.appendChild(o),i.appendChild(u),i.appendChild(h),n.appendChild(i),document.body.appendChild(n),setTimeout(()=>{document.body.contains(n)&&(document.body.removeChild(n),a())},3e3+Math.random()*2e3)})}}const Ee=new Ct,ze=({isOpen:t,onClose:s,onSuccess:a,onError:n,title:i="Authenticate Payment",description:r="Please verify your identity to complete this payment"})=>{const[l,c]=f.useState(!1),[o,d]=f.useState(null),[p,b]=f.useState(!1),[m,j]=f.useState(null),[D,u]=f.useState(null);f.useEffect(()=>{t&&!l&&!p&&!o&&I()},[t]);const I=async()=>{try{c(!0),d(null),b(!1),j(null),u(null);const h=await ye.authenticate("Please authenticate to complete your payment");h.success?(b(!0),h.features&&j(h.features),h.confidence&&u(h.confidence),setTimeout(()=>{a(h.features,h.confidence)},1500)):(d(h.error||"Authentication failed"),h.features&&j(h.features),h.confidence&&u(h.confidence),n(h.error||"Authentication failed"))}catch(h){const C=h instanceof Error?h.message:"Authentication failed";d(C),n(C)}finally{p||c(!1)}};return e.jsx($e,{open:t,onOpenChange:h=>!h&&s(),children:e.jsxs(Te,{className:"max-w-[250px]",children:[e.jsxs(dt,{className:"pb-1 space-y-1",children:[e.jsx(ut,{className:"text-base",children:i}),e.jsx(mt,{className:"text-xs",children:r})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center py-2",children:[e.jsxs("div",{className:H("w-16 h-16 rounded-full flex items-center justify-center mb-3 relative",p?"bg-green-50":l?"bg-blue-50":o?"bg-red-50":"bg-blue-50"),children:[l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-100 animate-ping opacity-25"}),e.jsx("div",{className:"absolute inset-2 rounded-full bg-blue-200 animate-pulse opacity-20"})]}),p&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-green-100 animate-pulse opacity-30"}),e.jsx("div",{className:"absolute inset-4 rounded-full bg-green-200 opacity-20"})]}),o&&e.jsx("div",{className:"absolute inset-0 rounded-full bg-red-100 animate-pulse opacity-30"}),e.jsxs("div",{className:H("relative",p?"text-green-600":o?"text-red-600":"text-blue-600"),children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",className:H(l&&"animate-pulse"),children:[e.jsx("path",{d:"M9 9h.01"}),e.jsx("path",{d:"M15 9h.01"}),e.jsx("path",{d:"M8 13a4 4 0 0 0 8 0"}),e.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5"})]}),p&&e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute -bottom-1 -right-1 bg-white rounded-full text-green-600",children:e.jsx("path",{d:"M20 6L9 17l-5-5"})}),o&&e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"absolute -bottom-1 -right-1 bg-white rounded-full text-red-600",children:[e.jsx("path",{d:"M18 6L6 18"}),e.jsx("path",{d:"M6 6l12 12"})]})]})]}),o?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-red-600 mb-2",children:o}),e.jsx(k,{onClick:I,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 text-sm rounded-full",children:"Try Again"})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:p?"Authentication Successful":l?"Scanning Face...":"Ready for Face ID"}),e.jsx("p",{className:"text-sm text-gray-500",children:p?"Proceeding with payment...":l?"Please look directly at your device":"Look at your device camera"})]})]})]})})};let kt={data:""},St=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||kt,At=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Dt=/\/\*[^]*?\*\/|  +/g,Le=/\n+/g,T=(t,s)=>{let a="",n="",i="";for(let r in t){let l=t[r];r[0]=="@"?r[1]=="i"?a=r+" "+l+";":n+=r[1]=="f"?T(l,r):r+"{"+T(l,r[1]=="k"?"":s)+"}":typeof l=="object"?n+=T(l,s?s.replace(/([^,])+/g,c=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,o=>/&/.test(o)?o.replace(/&/g,c):c?c+" "+o:o)):r):l!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=T.p?T.p(r,l):r+":"+l+";")}return a+(s&&i?s+"{"+i+"}":i)+n},L={},Ue=t=>{if(typeof t=="object"){let s="";for(let a in t)s+=a+Ue(t[a]);return s}return t},It=(t,s,a,n,i)=>{let r=Ue(t),l=L[r]||(L[r]=(o=>{let d=0,p=11;for(;d<o.length;)p=101*p+o.charCodeAt(d++)>>>0;return"go"+p})(r));if(!L[l]){let o=r!==t?t:(d=>{let p,b,m=[{}];for(;p=At.exec(d.replace(Dt,""));)p[4]?m.shift():p[3]?(b=p[3].replace(Le," ").trim(),m.unshift(m[0][b]=m[0][b]||{})):m[0][p[1]]=p[2].replace(Le," ").trim();return m[0]})(t);L[l]=T(i?{["@keyframes "+l]:o}:o,a?"":"."+l)}let c=a&&L.g?L.g:null;return a&&(L.g=L[l]),((o,d,p,b)=>{b?d.data=d.data.replace(b,o):d.data.indexOf(o)===-1&&(d.data=p?o+d.data:d.data+o)})(L[l],s,n,c),l},Ft=(t,s,a)=>t.reduce((n,i,r)=>{let l=s[r];if(l&&l.call){let c=l(a),o=c&&c.props&&c.props.className||/^go/.test(c)&&c;l=o?"."+o:c&&typeof c=="object"?c.props?"":T(c,""):c===!1?"":c}return n+i+(l??"")},"");function ce(t){let s=this||{},a=t.call?t(s.p):t;return It(a.unshift?a.raw?Ft(a,[].slice.call(arguments,1),s.p):a.reduce((n,i)=>Object.assign(n,i&&i.call?i(s.p):i),{}):a,St(s.target),s.g,s.o,s.k)}let We,xe,pe;ce.bind({g:1});let B=ce.bind({k:1});function Mt(t,s,a,n){T.p=s,We=t,xe=a,pe=n}function O(t,s){let a=this||{};return function(){let n=arguments;function i(r,l){let c=Object.assign({},r),o=c.className||i.className;a.p=Object.assign({theme:xe&&xe()},c),a.o=/ *go\d+/.test(o),c.className=ce.apply(a,n)+(o?" "+o:"");let d=t;return t[0]&&(d=c.as||t,delete c.as),pe&&d[0]&&pe(c),We(d,c)}return i}}var Et=t=>typeof t=="function",fe=(t,s)=>Et(t)?t(s):t,zt=(()=>{let t=0;return()=>(++t).toString()})(),Lt=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");t=!s||s.matches}return t}})(),Bt=20,_e=(t,s)=>{switch(s.type){case 0:return{...t,toasts:[s.toast,...t.toasts].slice(0,Bt)};case 1:return{...t,toasts:t.toasts.map(r=>r.id===s.toast.id?{...r,...s.toast}:r)};case 2:let{toast:a}=s;return _e(t,{type:t.toasts.find(r=>r.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=s;return{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==s.toastId)};case 5:return{...t,pausedAt:s.time};case 6:let i=s.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+i}))}}},$t=[],he={toasts:[],pausedAt:void 0},be=t=>{he=_e(he,t),$t.forEach(s=>{s(he)})},Tt=(t,s="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...a,id:(a==null?void 0:a.id)||zt()}),ae=t=>(s,a)=>{let n=Tt(s,t,a);return be({type:2,toast:n}),n.id},A=(t,s)=>ae("blank")(t,s);A.error=ae("error");A.success=ae("success");A.loading=ae("loading");A.custom=ae("custom");A.dismiss=t=>{be({type:3,toastId:t})};A.remove=t=>be({type:4,toastId:t});A.promise=(t,s,a)=>{let n=A.loading(s.loading,{...a,...a==null?void 0:a.loading});return typeof t=="function"&&(t=t()),t.then(i=>{let r=s.success?fe(s.success,i):void 0;return r?A.success(r,{id:n,...a,...a==null?void 0:a.success}):A.dismiss(n),i}).catch(i=>{let r=s.error?fe(s.error,i):void 0;r?A.error(r,{id:n,...a,...a==null?void 0:a.error}):A.dismiss(n)}),t};var Ot=B`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Vt=B`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ut=B`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Wt=O("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Ot} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Vt} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Ut} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,_t=B`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Ht=O("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${_t} 1s linear infinite;
`,Gt=B`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Rt=B`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Yt=O("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Gt} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Rt} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,qt=O("div")`
  position: absolute;
`,Jt=O("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Kt=B`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xt=O("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Kt} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Zt=({toast:t})=>{let{icon:s,type:a,iconTheme:n}=t;return s!==void 0?typeof s=="string"?f.createElement(Xt,null,s):s:a==="blank"?null:f.createElement(Jt,null,f.createElement(Ht,{...n}),a!=="loading"&&f.createElement(qt,null,a==="error"?f.createElement(Wt,{...n}):f.createElement(Yt,{...n})))},Qt=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,es=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,ts="0%{opacity:0;} 100%{opacity:1;}",ss="0%{opacity:1;} 100%{opacity:0;}",as=O("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,ns=O("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,is=(t,s)=>{let a=t.includes("top")?1:-1,[n,i]=Lt()?[ts,ss]:[Qt(a),es(a)];return{animation:s?`${B(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${B(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};f.memo(({toast:t,position:s,style:a,children:n})=>{let i=t.height?is(t.position||s||"top-center",t.visible):{opacity:0},r=f.createElement(Zt,{toast:t}),l=f.createElement(ns,{...t.ariaProps},fe(t.message,t));return f.createElement(as,{className:t.className,style:{...i,...a,...t.style}},typeof n=="function"?n({icon:r,message:l}):f.createElement(f.Fragment,null,r,l))});Mt(f.createElement);ce`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const rs=({isOpen:t,onClose:s,onSuccess:a,onError:n,title:i="Authenticate Payment",description:r="Please verify your identity to complete this payment"})=>{const[l,c]=f.useState(!1),[o,d]=f.useState(null),[p,b]=f.useState("none"),[m,j]=f.useState(!1);f.useEffect(()=>{if(t){d(null),c(!1),j(!1),se.getBiometricType().then(I=>{b(I)});const u=setTimeout(()=>{D()},500);return()=>clearTimeout(u)}},[t]);const D=async()=>{try{c(!0),d(null),j(!1);const u=await se.authenticate("Please authenticate to complete your payment");u.success?(j(!0),c(!1),a()):(d(u.error||"Authentication failed"),n(u.error||"Authentication failed"))}catch(u){const I=u instanceof Error?u.message:"Authentication failed";d(I),n(I)}finally{m||c(!1)}};return e.jsx($e,{open:t,onOpenChange:u=>!u&&s(),children:e.jsxs(Te,{className:"max-w-[300px] p-0 overflow-hidden",children:[e.jsxs("div",{className:"bg-blue-600 p-3 text-white",children:[e.jsx("h3",{className:"text-base font-semibold mb-1",children:i}),e.jsx("p",{className:"text-xs text-white/80",children:r})]}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center py-3",children:[p==="fingerprint"&&e.jsxs("div",{className:H("w-16 h-16 rounded-full flex items-center justify-center mb-3 relative",m?"bg-green-50":l?"bg-blue-50":o?"bg-red-50":"bg-blue-50"),children:[l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-100 animate-ping opacity-25"}),e.jsx("div",{className:"absolute inset-2 rounded-full bg-blue-200 animate-pulse opacity-20"})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-green-100 animate-pulse opacity-30"}),e.jsx("div",{className:"absolute inset-4 rounded-full bg-green-200 opacity-20"})]}),m?e.jsx("svg",{className:"w-10 h-10 z-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:H("w-10 h-10 z-10",l?"text-blue-600":o?"text-red-500":"text-blue-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839-1.132c.06-.411.091-.83.091-1.255a4.99 4.99 0 00-1.383-3.453M4.921 10a5.008 5.008 0 01-1.423-3.883c0-3.316 3.01-6 6.724-6M5.9 20.21a5.001 5.001 0 01-2.38-3.233M13.5 4.206V4a2 2 0 10-4 0v.206a6 6 0 00-.5 10.975M16 11a4 4 0 00-4-4v0"})})]}),p==="face"&&e.jsxs("div",{className:H("w-16 h-16 rounded-full flex items-center justify-center mb-3 relative",m?"bg-green-50":l?"bg-blue-50":o?"bg-red-50":"bg-blue-50"),children:[l&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-blue-100 animate-ping opacity-25"}),e.jsx("div",{className:"absolute inset-2 rounded-full bg-blue-200 animate-pulse opacity-20"})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-green-100 animate-pulse opacity-30"}),e.jsx("div",{className:"absolute inset-4 rounded-full bg-green-200 opacity-20"})]}),m?e.jsx("svg",{className:"w-10 h-10 z-10 text-green-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsxs("svg",{className:H("w-10 h-10 z-10",l?"text-blue-600":o?"text-red-500":"text-blue-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 9h.01M9 9h.01"})]})]}),m?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-green-600 mb-1",children:p==="fingerprint"?"Fingerprint Verified!":"Face ID Verified!"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Completing your payment..."})]}):l?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:p==="fingerprint"?"Touch Fingerprint Sensor":"Look at Your Device"}),e.jsx("p",{className:"text-sm text-gray-500",children:p==="fingerprint"?"Use your fingerprint to verify payment":"Use Face ID to verify payment"})]}):o?e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-red-600 mb-2",children:o}),e.jsx(k,{onClick:D,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-1 text-xs rounded-full",children:"Try Again"})]}):e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm font-medium text-gray-800 mb-1",children:p==="fingerprint"?"Ready for Authentication":"Ready for Face ID"}),e.jsx("p",{className:"text-sm text-gray-500",children:p==="fingerprint"?"Place your finger on the sensor":"Look at your device camera"})]})]}),e.jsxs("div",{className:"mt-2 border-t pt-2 flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Secured by Hushhly Pay"}),e.jsx(k,{variant:"ghost",onClick:s,className:"text-blue-600 hover:text-blue-800 hover:bg-blue-50",disabled:l,children:"Cancel"})]}),!m&&e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{onClick:async()=>{try{s(),setTimeout(()=>{A.info("Verifying with screen lock...")},500);const u=await se.authenticateWithScreenLock();u.success?(A.success("Screen lock verified"),setTimeout(()=>{a()},1500)):A.error(u.error||"Screen lock verification failed")}catch{A.error("Screen lock verification failed")}},className:"text-sm text-blue-600 hover:text-blue-800 transition-colors flex items-center",disabled:l||m,children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Use screen lock instead"]})})]})]})]})})},js=()=>{const t=ot(),[s,a]=f.useState(0),n=9,[i,r]=f.useState(!1),[l,c]=f.useState("annual"),[o,d]=f.useState(!1),[p,b]=f.useState(!1),[m,j]=f.useState("select"),[D,u]=f.useState(!1),[I,h]=f.useState(!1),[C,q]=f.useState(null),[$,He]=f.useState(null),[ne,Ge]=f.useState(null),[ie,je]=f.useState("");f.useState("fingerprint");const[Re,Y]=f.useState(!1),[de,ve]=f.useState(!1),{user:ue}=Be(),{applyPromoCode:Ye,removePromoCode:qe,activePromo:v,isValidating:ls,calculateDiscountedPrice:Je,getFormattedDiscountText:Ke}=vt(),g={annual:59.99,monthly:5.99},we=x=>{c(x)};f.useEffect(()=>{if(s<2){const x=setTimeout(()=>{r(!0),setTimeout(()=>{a(s+1),r(!1)},800)},s===0?2200:1800);return()=>clearTimeout(x)}},[s]);const V=()=>{s<n-1?(r(!0),setTimeout(()=>{a(s+1),r(!1)},500)):(r(!0),setTimeout(()=>{t("/sign-up")},500))},U=()=>{s>1&&(r(!0),setTimeout(()=>{a(s-1),r(!1)},500))},J=()=>{r(!0),setTimeout(()=>{t("/sign-up")},300)},Xe=()=>{r(!0),setTimeout(()=>{t("/sign-in")},300)},Ze=()=>{r(!0),setTimeout(()=>{t("/sign-up")},300)},Qe=()=>{d(!0)},et=()=>{let x=localStorage.getItem("temp_user_id");return x||(x=`temp_user_${Date.now()}`,localStorage.setItem("temp_user_id",x)),x},K=()=>(ue==null?void 0:ue.id)||et(),tt=async()=>{try{const w=(navigator.language||"en-US").split("-")[1]||"US";return await new Promise(y=>setTimeout(y,500)),w}catch(x){return console.error("Error detecting country:",x),"US"}},st=async(x,w)=>{w!==void 0&&Ge(w),window.dispatchEvent(new Event("balance-updated"));try{const y=parseFloat(localStorage.getItem("pendingPaymentAmount")||"0"),P=localStorage.getItem("pendingPaymentDescription")||"",F=localStorage.getItem("pendingPaymentUserId")||K(),M=localStorage.getItem("pendingPaymentPlan")||l,z=localStorage.getItem("pendingPaymentCountry")||"US";if(!y||!P)throw new Error("Payment information not found");c(M),N.success("Fingerprint verified"),await new Promise(me=>setTimeout(me,2e3)),N.info("Processing Google Play payment...");const W=await Ee.processPayment({amount:y,currency:"USD",description:P,userId:F,country:z});if(!W.success)throw new Error(W.error||"Google Play payment failed");await new Promise(me=>setTimeout(me,3e3)),j("success");const X={plan:M,startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+(M==="annual"?12:1))),autoRenew:!0,status:"active",paymentId:W.transactionId,promoCodeId:v==null?void 0:v.id,originalPrice:M==="annual"?g.annual:g.monthly,finalPrice:y,country:z};await De.saveSubscription(F,X),N.success("Payment successful!"),setTimeout(()=>{Y(!1),h(!1),d(!1),a(s+1)},3e3)}catch(y){console.error("Fingerprint success handler error:",y),N.error(y instanceof Error?y.message:"An error occurred during payment processing"),Y(!1),h(!1),j("select")}},at=async x=>{if(console.error("Fingerprint error:",x),N.error(x||"Fingerprint verification failed"),Y(!1),await new Promise(y=>setTimeout(y,1e3)),window.confirm("Would you like to try fingerprint verification again?")){Pe();return}h(!1),j("select")},Ne=async()=>{if(ie){ve(!0);try{const x=ie.trim().toUpperCase(),w=await Ye(x,l==="annual"?"Annual":"Monthly");w.isValid?(N.success(w.message),je("")):N.error(w.message)}catch(x){console.error("Error applying promo code:",x),N.error("An error occurred while applying the promo code")}finally{ve(!1)}}},E=x=>Je(x),Pe=async()=>{if(!R()){N.error("Google Play is only available on Android devices");return}h(!0),j("processing"),b(!0);try{const x=K(),w=await tt();if(console.log(`User country detected: ${w}`),!await Ee.isAvailable())throw new Error("Google Play is not available on this device. Please use an Android device with Google Play support.");let P,F;l==="annual"?(P=g.annual,F=v?E(P):P,N.info(`Initializing Google Play payment for $${F.toFixed(2)}/year...`)):(P=g.monthly,F=v?E(P):P,N.info(`Initializing Google Play payment for $${F.toFixed(2)}/month...`)),await new Promise(W=>setTimeout(W,2e3));const M=`Subscription to ${l==="monthly"?"Monthly":"Annual"} Plan`;if(localStorage.setItem("pendingPaymentAmount",F.toString()),localStorage.setItem("pendingPaymentDescription",M),localStorage.setItem("pendingPaymentUserId",x),localStorage.setItem("pendingPaymentPlan",l),localStorage.setItem("pendingPaymentCountry",w),j("verifying"),!await se.isAvailable())throw new Error("Fingerprint authentication is not available on this device. Please use an Android device with fingerprint support.");N.info("Please verify with your fingerprint to complete payment"),Y(!0);return}catch(x){console.error("Payment error:",x),N.error(x instanceof Error?x.message:"An error occurred during payment"),Y(!1),h(!1),j("select")}finally{b(!1)}},Ce=async()=>{if(!S()){N.error("Apple Pay is only available on iOS devices");return}h(!0),j("processing"),b(!0);try{const x=K();if(!await Me.isAvailable())throw new Error("Apple Pay is not available on this device. Please use an iOS device with Apple Pay support.");let y,P;l==="annual"?(y=g.annual,P=v?E(y):y,N.info(`Initializing Apple Pay for $${P.toFixed(2)}/year...`)):(y=g.monthly,P=v?E(y):y,N.info(`Initializing Apple Pay for $${P.toFixed(2)}/month...`)),await new Promise(z=>setTimeout(z,2e3));const F=`Subscription to ${l==="monthly"?"Monthly":"Annual"} Plan`;if(localStorage.setItem("pendingPaymentAmount",P.toString()),localStorage.setItem("pendingPaymentDescription",F),localStorage.setItem("pendingPaymentUserId",x),localStorage.setItem("pendingPaymentPlan",l),j("verifying"),!await ye.isAvailable())throw new Error("Face ID is not available on this device. Please use an iOS device with Face ID support.");N.info("Please verify with Face ID to complete payment"),u(!0);return}catch(x){console.error("Payment error:",x),N.error(x instanceof Error?x.message:"An error occurred during payment"),u(!1),h(!1),j("select")}finally{b(!1)}},ke=async x=>{if(console.error("Face ID error:",x),N.error(x||"Face ID verification failed"),u(!1),await new Promise(y=>setTimeout(y,1e3)),window.confirm("Would you like to try Face ID verification again?")){Ce();return}h(!1),j("select")},Se=async(x,w)=>{x&&q(x),w!==void 0&&He(w),window.dispatchEvent(new Event("balance-updated"));try{const y=parseFloat(localStorage.getItem("pendingPaymentAmount")||"0"),P=localStorage.getItem("pendingPaymentDescription")||"",F=localStorage.getItem("pendingPaymentUserId")||K(),M=localStorage.getItem("pendingPaymentPlan")||l;if(!y||!P)throw new Error("Payment information not found");c(M),N.success("Face ID verified"),await new Promise(X=>setTimeout(X,2e3)),N.info("Processing Apple Pay payment...");const z=await Me.processPayment({amount:y,currency:"USD",description:P,userId:F});if(!z.success)throw new Error(z.error||"Apple Pay payment failed");await new Promise(X=>setTimeout(X,3e3)),j("success");const W={plan:M,startDate:new Date,endDate:new Date(new Date().setMonth(new Date().getMonth()+(M==="annual"?12:1))),autoRenew:!0,status:"active",paymentId:z.transactionId,promoCodeId:v==null?void 0:v.id,originalPrice:M==="annual"?g.annual:g.monthly,finalPrice:y};await De.saveSubscription(F,W),N.success("Payment successful!"),setTimeout(()=>{u(!1),h(!1),d(!1),a(s+1)},3e3)}catch(y){console.error("Face ID success handler error:",y),N.error(y instanceof Error?y.message:"An error occurred during payment processing"),u(!1),h(!1),j("select")}},nt=[e.jsxs("div",{className:`flex flex-col h-full ${i?"opacity-0 scale-95":"opacity-100 scale-100"} transition-all duration-700 ease-in-out overflow-hidden relative animate-gradient-shift`,style:{background:"linear-gradient(135deg, #00a0d2 0%, #0076b5 50%, #3a5bb8 100%)",backgroundSize:"200% 200%"},children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-1/3 bg-gradient-to-b from-white/10 to-transparent animate-fade-in-out"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-full h-1/3 bg-gradient-to-t from-white/5 to-transparent animate-fade-in-out",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-[30%] right-0 w-1/2 h-[1px] bg-white/10 animate-slide-left",style:{animationDelay:"0.5s"}}),e.jsx("div",{className:"absolute bottom-[40%] left-0 w-1/2 h-[1px] bg-white/10 animate-slide-right",style:{animationDelay:"0.8s"}})]}),e.jsx("div",{className:"flex-grow flex flex-col items-center justify-center relative z-10",children:e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-64 h-auto brightness-0 invert animate-subtle-glow"})})]},"screen-0"),e.jsxs("div",{className:`flex flex-col h-full ${i?"opacity-0 scale-95":"opacity-100 scale-100"} transition-all duration-700 ease-in-out bg-white relative overflow-hidden`,children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-24 bg-gradient-to-b from-blue-50 to-transparent"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-full h-24 bg-gradient-to-t from-blue-50 to-transparent"}),e.jsx("div",{className:"absolute top-[20%] left-0 w-full h-[1px] bg-blue-100 animate-slide-right",style:{animationDelay:"0.3s"}}),e.jsx("div",{className:"absolute top-[25%] left-0 w-3/4 h-[1px] bg-blue-100 animate-slide-right",style:{animationDelay:"0.5s"}}),e.jsx("div",{className:"absolute bottom-[20%] right-0 w-full h-[1px] bg-blue-100 animate-slide-left",style:{animationDelay:"0.3s"}}),e.jsx("div",{className:"absolute bottom-[25%] right-0 w-3/4 h-[1px] bg-blue-100 animate-slide-left",style:{animationDelay:"0.5s"}})]}),e.jsx("div",{className:"flex-grow flex flex-col items-center justify-center relative z-10",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 -m-8 bg-gradient-to-r from-blue-100 via-blue-50 to-blue-100 opacity-30 blur-lg animate-gradient-shift"}),e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-64 h-auto relative z-10 animate-elegant-pulse"})]})})]},"screen-1"),e.jsxs("div",{className:`min-h-screen bg-gradient-to-b from-blue-400 to-blue-600 p-4 flex flex-col relative overflow-auto ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out`,style:{maxHeight:"100vh"},children:[e.jsxs("div",{className:"flex items-center mb-2 sticky top-0 z-10 bg-gradient-to-b from-blue-400 to-transparent pt-1",children:[e.jsx("div",{className:"flex-1"}),e.jsx("div",{className:"flex-grow flex justify-center",children:e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-20 h-auto brightness-0 invert"})}),e.jsx("div",{className:"flex-1 flex justify-end",children:e.jsx("button",{onClick:V,className:"p-1 text-white hover:bg-white/20 rounded-full transition-colors","aria-label":"Exit",children:e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})})]}),e.jsxs("div",{className:"text-center text-white mb-2",children:[e.jsx("h1",{className:"text-xl font-bold mb-1",children:"Unlock Premium Features"}),e.jsx("p",{className:"text-sm opacity-90 leading-relaxed",children:"Get unlimited access to all meditations, stories, and personalized content"})]}),e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsx("button",{onClick:()=>we("annual"),className:`w-full p-3 rounded-lg ${l==="annual"?"bg-white text-blue-600 shadow-lg transform scale-105":"bg-white/20 text-white hover:bg-white/30"} transition-all duration-300`,children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-base mb-0.5",children:"Premium Annual"}),e.jsx("div",{className:"text-sm opacity-80",children:v?e.jsxs("span",{className:"flex flex-col items-start gap-1",children:[e.jsxs("span",{className:"line-through",children:["$",g.annual,"/year"]}),e.jsxs("span",{className:"text-green-400 no-underline",children:["$",E(g.annual).toFixed(2),"/year"]}),e.jsx("span",{className:"text-xs text-green-300",children:v.discount})]}):e.jsxs("span",{children:["$",g.annual,"/year"]})})]}),l==="annual"&&e.jsx("div",{className:"text-xs font-bold px-2 py-1 bg-blue-100 text-blue-600 rounded-full",children:"Best value"})]})}),e.jsx("button",{onClick:()=>we("monthly"),className:`w-full p-3 rounded-lg ${l==="monthly"?"bg-white text-blue-600 shadow-lg transform scale-105":"bg-white/20 text-white hover:bg-white/30"} transition-all duration-300`,children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-base mb-0.5",children:"Monthly"}),e.jsx("div",{className:"text-sm opacity-80",children:v?e.jsxs("span",{className:"flex flex-col items-start gap-1",children:[e.jsxs("span",{className:"line-through",children:["$",g.monthly,"/month"]}),e.jsxs("span",{className:"text-green-400 no-underline",children:["$",E(g.monthly).toFixed(2),"/month"]}),e.jsx("span",{className:"text-xs text-green-300",children:v.discount})]}):e.jsxs("span",{children:["$",g.monthly,"/month"]})}),e.jsx("div",{className:"text-xs mt-1 opacity-90",children:"Flexible monthly billing"})]})})}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-white/20 flex items-center justify-center mr-2 text-xs",children:"✓"}),e.jsx("span",{className:"text-sm",children:"Unlimited access to all meditations"})]}),e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-white/20 flex items-center justify-center mr-2 text-xs",children:"✓"}),e.jsx("span",{className:"text-sm",children:"Personalized meditation plans"})]}),e.jsxs("div",{className:"flex items-center text-white",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-white/20 flex items-center justify-center mr-2 text-xs",children:"✓"}),e.jsx("span",{className:"text-sm",children:"Offline downloads"})]})]}),e.jsx("div",{className:"mt-4",children:v?e.jsx("div",{className:"text-white bg-white/20 p-2 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-sm",children:v.code}),e.jsx("p",{className:"text-xs text-green-400",children:Ke(l==="annual"?g.annual:g.monthly)})]})]}),e.jsx(k,{variant:"ghost",size:"sm",className:"text-white/80 hover:text-white h-8 px-2",onClick:qe,children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}):e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:()=>{var x;return(x=document.getElementById("promoCodeInput"))==null?void 0:x.focus()},className:"text-sm text-white/80 hover:text-white flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"Have a promo code?"]}),e.jsx("div",{className:"ml-2 flex-grow max-w-[200px]",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ct,{id:"promoCodeInput",type:"text",placeholder:"Enter code",value:ie,onChange:x=>je(x.target.value),className:"bg-white/20 text-white placeholder:text-white/60 h-8 text-sm",disabled:de,onKeyDown:x=>x.key==="Enter"&&Ne()}),ie&&e.jsx(k,{onClick:Ne,variant:"ghost",className:"h-8 px-2 ml-1",disabled:de,children:de?e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{className:"h-4 w-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})]})})]})})]}),e.jsxs("div",{className:"fixed bottom-0 left-0 right-0 p-4 z-20 bg-gradient-to-t from-blue-600 via-blue-600 to-transparent pb-6 pt-8",children:[e.jsx(k,{onClick:Qe,className:"w-full bg-white text-blue-600 hover:bg-blue-50 py-3 text-lg font-semibold rounded-xl shadow-lg transform transition hover:scale-105",children:"Continue"}),e.jsx("div",{className:"text-center mt-2",children:e.jsx("p",{className:"text-white/80 text-xs",children:"Cancel anytime · Money back guarantee"})})]}),e.jsx("div",{className:"h-24"}),e.jsx(ze,{isOpen:D,onClose:()=>u(!1),onSuccess:Se,onError:ke,title:"Verify Apple Pay",description:"Please authenticate with Face ID to complete your payment"}),o&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white rounded-2xl p-6 w-11/12 max-w-md",children:I?e.jsx("div",{className:"relative",children:e.jsxs("div",{className:`${m==="processing"||m==="verifying"||m==="success"?"bg-black":""} text-white p-6 rounded-2xl relative overflow-hidden`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("div",{className:"text-lg font-medium flex items-center",children:m==="processing"&&e.jsx(e.Fragment,{children:l==="annual"?"Annual Plan":"Monthly Plan"})}),e.jsx("div",{className:"text-lg font-medium",children:v?e.jsxs("span",{className:"text-green-400",children:["$",E(l==="annual"?g.annual:g.monthly).toFixed(2)]}):e.jsxs("span",{children:["$",l==="annual"?g.annual:g.monthly]})})]}),m==="processing"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-white border-t-transparent mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"Processing payment..."})]}),m==="verifying"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-4 relative",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-white/30 animate-ping opacity-25"}),e.jsx("div",{className:"absolute inset-2 rounded-full bg-white/40 animate-pulse opacity-20"}),e.jsx("div",{className:"animate-pulse w-20 h-20 rounded-full bg-white/20 flex items-center justify-center relative z-10",children:S()?e.jsxs("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 9h.01M15 9h.01M8 13a4 4 0 008 0"}),e.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5"})]}):e.jsx("svg",{className:"w-12 h-12 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839-1.132c.06-.411.091-.83.091-1.255a4.99 4.99 0 00-1.383-3.453M4.921 10a5.008 5.008 0 01-1.423-3.883c0-3.316 3.01-6 6.724-6M5.9 20.21a5.001 5.001 0 01-2.38-3.233M13.5 4.206V4a2 2 0 10-4 0v.206a6 6 0 00-.5 10.975M16 11a4 4 0 00-4-4v0"})})})]})}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:S()?"Look at Your Device":"Touch Fingerprint Sensor"}),e.jsx("p",{className:"text-sm text-white/80 mt-2",children:S()?"Use Face ID to verify this Apple Pay payment":"Use your fingerprint to verify this Google Play payment"}),e.jsx("div",{className:"mt-6 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white/10 rounded-full px-3 py-1 flex items-center space-x-1",children:[S()?e.jsx(ee,{size:12,className:"text-white"}):e.jsx(re,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs text-white/80",children:S()?"Secured by Apple Pay":"Secured by Google Play"})]})})]}),m==="success"&&e.jsxs("div",{className:"text-center py-8",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6 relative",children:[e.jsx("div",{className:"absolute w-24 h-24 rounded-full bg-green-400/20 animate-pulse"}),e.jsx("div",{className:"absolute w-20 h-20 rounded-full bg-green-400/30"}),e.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500 flex items-center justify-center z-10",children:e.jsx("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M5 13l4 4L19 7"})})})]}),e.jsx("h3",{className:"text-xl font-semibold text-white mb-1",children:"Payment Successful!"}),e.jsxs("p",{className:"text-sm text-white/80 mt-2",children:["Your ",l==="annual"?"annual":"monthly"," subscription is now active"]}),e.jsxs("div",{className:"mt-6 bg-white/10 rounded-lg p-3 text-left",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Plan"}),e.jsx("span",{className:"text-sm text-white font-medium",children:l==="annual"?"Annual Premium":"Monthly Premium"})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Amount (USD)"}),e.jsx("span",{className:"text-sm text-white font-medium",children:te.formatBalance(E(l==="annual"?g.annual:g.monthly))})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Payment Method"}),e.jsx("span",{className:"text-sm text-white font-medium flex items-center",children:S()?e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:14,className:"mr-1"}),"Apple Pay"]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{size:14,className:"mr-1"}),"Google Play"]})})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Authentication"}),e.jsxs("span",{className:"text-sm text-white font-medium flex items-center",children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 9h.01M15 9h.01M8 13a4 4 0 008 0"}),e.jsx("rect",{width:"20",height:"20",x:"2",y:"2",rx:"5"})]}),"Face ID"]})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Next billing"}),e.jsx("span",{className:"text-sm text-white font-medium",children:new Date(new Date().setMonth(new Date().getMonth()+(l==="annual"?12:1))).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Transaction ID"}),e.jsx("span",{className:"text-sm text-white font-medium",children:`AP${Date.now().toString().substring(5)}`})]})]}),S()?C&&e.jsxs("div",{className:"mt-3 bg-white/10 rounded-lg p-3 text-left",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Face ID Details"}),e.jsx("span",{className:"text-xs text-white/80 bg-green-500/30 px-2 py-0.5 rounded-full",children:"Verified"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${C.eyes?"bg-green-500":"bg-red-500"} mr-1`}),e.jsxs("span",{className:"text-white/80",children:["Eyes: ",C.eyes?"Detected":"Not Detected"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${C.nose?"bg-green-500":"bg-red-500"} mr-1`}),e.jsxs("span",{className:"text-white/80",children:["Nose: ",C.nose?"Detected":"Not Detected"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${C.mouth?"bg-green-500":"bg-red-500"} mr-1`}),e.jsxs("span",{className:"text-white/80",children:["Mouth: ",C.mouth?"Detected":"Not Detected"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${C.skinTexture?"bg-green-500":"bg-red-500"} mr-1`}),e.jsxs("span",{className:"text-white/80",children:["Skin: ",C.skinTexture?"Detected":"Not Detected"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${C.depthMap?"bg-green-500":"bg-red-500"} mr-1`}),e.jsxs("span",{className:"text-white/80",children:["Depth: ",C.depthMap?"Detected":"Not Detected"]})]}),$!==null&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${$>.9?"bg-green-500":$>.7?"bg-yellow-500":"bg-red-500"} mr-1`}),e.jsxs("span",{className:"text-white/80",children:["Confidence: ",Math.round($*100),"%"]})]})]})]}):ne!==null&&e.jsxs("div",{className:"mt-3 bg-white/10 rounded-lg p-3 text-left",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/60",children:"Fingerprint Details"}),e.jsx("span",{className:"text-xs text-white/80 bg-green-500/30 px-2 py-0.5 rounded-full",children:"Verified"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-1"}),e.jsx("span",{className:"text-white/80",children:"Pattern: Detected"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-1"}),e.jsx("span",{className:"text-white/80",children:"Ridges: Detected"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-1"}),e.jsx("span",{className:"text-white/80",children:"Minutiae: Detected"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${ne>.9?"bg-green-500":ne>.7?"bg-yellow-500":"bg-red-500"} mr-1`}),e.jsxs("span",{className:"text-white/80",children:["Confidence: ",Math.round(ne*100),"%"]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mr-1"}),e.jsxs("span",{className:"text-white/80",children:["Country: ",localStorage.getItem("pendingPaymentCountry")||"US"]})]})]})]}),e.jsx("div",{className:"mt-6 flex items-center justify-center",children:e.jsx("div",{className:"bg-white/10 rounded-full px-3 py-1 flex items-center space-x-1",children:S()?e.jsxs(e.Fragment,{children:[e.jsx(ee,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs text-white/80",children:"Secured by Apple Pay"})]}):e.jsxs(e.Fragment,{children:[e.jsx(re,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs text-white/80",children:"Secured by Google Play"})]})})})]}),(m==="processing"||m==="verifying"||m==="success")&&e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm opacity-80",children:[e.jsx("span",{children:"Payment Status"}),e.jsxs("span",{className:"flex items-center",children:[m==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsx("span",{className:"text-green-400",children:"Completed"})]}),m==="processing"&&e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"w-4 h-4 mr-1 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),e.jsx("span",{children:"Processing"})]}),m==="verifying"&&e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1 animate-pulse",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("span",{children:"Verifying"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm opacity-80",children:[e.jsx("span",{children:"Balance After Payment"}),e.jsx("span",{className:"font-medium",children:te.formatBalance(te.getUserBalance(K()).balance)})]}),m==="success"&&e.jsxs("div",{className:"flex items-center justify-between text-sm opacity-80",children:[e.jsx("span",{children:"View Transactions"}),e.jsx("button",{onClick:()=>{h(!1),d(!1),t("/transaction-history")},className:"text-blue-300 hover:text-blue-200 transition-colors",children:"History"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800",children:"Complete Purchase"}),e.jsxs("p",{className:"text-gray-600 mt-2",children:[l==="annual"?"Annual Plan":"Monthly Plan",v?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"line-through text-gray-400 mx-2",children:["$",l==="annual"?g.annual:g.monthly]}),e.jsxs("span",{className:"text-green-600 font-medium",children:["$",E(l==="annual"?g.annual:g.monthly).toFixed(2)]})]}):e.jsxs("span",{className:"ml-2",children:["$",l==="annual"?g.annual:g.monthly,l==="annual"?"/year":"/month"]})]}),v&&e.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center justify-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),v.description]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Payment Amount"}),e.jsxs("p",{className:"text-xl font-bold text-green-600",children:["$",v?E(l==="annual"?g.annual:g.monthly).toFixed(2):(l==="annual"?g.annual:g.monthly).toFixed(2),e.jsx("span",{className:"text-sm font-normal text-gray-500 ml-1",children:l==="annual"?"/year":"/month"})]}),v&&e.jsxs("p",{className:"text-xs text-green-600 mt-1 flex items-center",children:[e.jsxs("span",{className:"line-through text-gray-400 mr-2",children:["$",l==="annual"?g.annual:g.monthly]}),v.description]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(k,{onClick:Ce,className:"w-full bg-black text-white py-4 rounded-xl flex items-center justify-center space-x-2 hover:bg-gray-900 transition-colors active:scale-95 transform transition-transform",disabled:!S(),children:[e.jsx(ee,{size:24}),e.jsx("span",{className:"text-lg",children:"Pay with Apple Pay"})]}),!S()&&e.jsx("p",{className:"text-xs text-red-500 text-center mt-1",children:"Apple Pay is only available on iOS devices"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Secure payment with advanced Face ID verification"}),e.jsxs("div",{className:"my-2 flex items-center justify-center",children:[e.jsx("div",{className:"h-px bg-gray-200 flex-grow"}),e.jsx("span",{className:"px-2 text-gray-400 text-sm",children:"OR"}),e.jsx("div",{className:"h-px bg-gray-200 flex-grow"})]}),e.jsxs(k,{onClick:Pe,className:"w-full bg-white border border-gray-300 text-gray-800 py-4 rounded-xl flex items-center justify-center space-x-2 hover:bg-gray-50 transition-colors active:scale-95 transform transition-transform",disabled:!R(),children:[e.jsx(re,{size:24,className:"text-[#1a73e8]"}),e.jsx("span",{className:"text-lg",children:"Pay with Google Play"})]}),!R()&&e.jsx("p",{className:"text-xs text-red-500 text-center mt-1",children:"Google Play is only available on Android devices"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Secure payment with fingerprint verification"})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2 text-center",children:"Advanced Payment Security"}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-xs text-gray-600",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-medium mb-1",children:"Apple Pay Security:"}),e.jsx("p",{className:"mb-2",children:"Apple's advanced Face ID technology:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[e.jsx("li",{children:"Detects precise facial features (eyes, nose, mouth)"}),e.jsx("li",{children:"Analyzes skin texture and depth mapping"}),e.jsx("li",{children:"Ensures real-time identity verification"}),e.jsx("li",{children:"Follows Apple Pay security protocols"}),e.jsx("li",{children:"Processes payment only after successful verification"})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"font-medium mb-1",children:"Google Play Security:"}),e.jsx("p",{className:"mb-2",children:"Google's advanced fingerprint technology:"}),e.jsxs("ul",{className:"list-disc pl-4 space-y-1",children:[e.jsx("li",{children:"Detects precise fingerprint patterns and ridges"}),e.jsx("li",{children:"Analyzes unique fingerprint characteristics"}),e.jsx("li",{children:"Ensures real-time identity verification"}),e.jsx("li",{children:"Follows Google Play security protocols"}),e.jsx("li",{children:"Processes payment only after successful verification"}),e.jsx("li",{children:"Detects your country for regional payment processing"})]})]})]})]}),e.jsx("div",{className:"flex justify-center mt-4 z-20 relative",children:e.jsx("button",{onClick:()=>d(!1),className:"text-gray-600 py-3 px-6 hover:text-gray-800 transition-colors text-sm font-medium bg-gray-100 hover:bg-gray-200 rounded-lg",children:"Cancel"})})]})]})})})]},"screen-2"),e.jsxs("div",{className:`flex flex-col items-center justify-between h-full px-8 text-center bg-white ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out`,children:[e.jsxs("div",{className:"w-full flex justify-between items-center pt-6 px-4",children:[e.jsx("button",{onClick:U,className:"p-2 text-black hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(_,{size:20})}),e.jsx("button",{onClick:J,className:"text-xs text-meditation-lightBlue hover:text-meditation-mediumBlue transition-colors",children:"Skip for now"})]}),e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-40 h-auto"})}),e.jsx("h2",{className:"text-meditation-lightBlue text-lg font-medium mb-8 animate-fade-in",children:"Welcome to Hushhly"}),e.jsx("div",{children:e.jsx("img",{src:"/lovable-uploads/cc30d1e6-ebff-46bd-9792-996ff84ec5cb.png",alt:"Meditation Bear",className:"w-48 h-auto mb-8 animate-pulse-subtle",style:{animationDuration:"3s"}})}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4 animate-slide-up",children:["A smarter way to experience ",e.jsx("br",{})," the benefits of daily meditation ",e.jsx("br",{})," and mindfulness"]}),e.jsx("div",{className:"flex-grow"}),e.jsxs(k,{onClick:V,className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white px-8 rounded-full flex items-center animate-scale-in mb-16",children:["Next ",e.jsx(Q,{className:"ml-1 h-4 w-4"})]})]},"screen-3"),e.jsxs("div",{className:`flex flex-col items-center justify-between h-full px-8 text-center bg-white ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out`,children:[e.jsxs("div",{className:"w-full flex justify-between items-center pt-6 px-4",children:[e.jsx("button",{onClick:U,className:"p-2 text-black hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(_,{size:20})}),e.jsx("button",{onClick:J,className:"text-xs text-meditation-lightBlue hover:text-meditation-mediumBlue transition-colors",children:"Skip for now"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow",children:[e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-40 h-auto"})}),e.jsx("h2",{className:"text-meditation-lightBlue text-lg font-medium mb-8 animate-fade-in",children:"Personalized Meditation Plans"}),e.jsx("div",{children:e.jsx("img",{src:"/lovable-uploads/cc30d1e6-ebff-46bd-9792-996ff84ec5cb.png",alt:"Meditation Bear",className:"w-48 h-auto mb-8 animate-pulse-subtle",style:{animationDuration:"3s"}})}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4 animate-slide-up",children:["Tailored meditations based on your ",e.jsx("br",{})," goals, mood, and schedule to ",e.jsx("br",{})," maximize benefits"]}),e.jsx("div",{className:"flex-grow"}),e.jsxs(k,{onClick:V,className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white px-8 rounded-full flex items-center animate-scale-in mb-16",children:["Next ",e.jsx(Q,{className:"ml-1 h-4 w-4"})]})]})]},"screen-4"),e.jsxs("div",{className:`flex flex-col items-center justify-between h-full px-8 text-center bg-white ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out`,children:[e.jsxs("div",{className:"w-full flex justify-between items-center pt-6 px-4",children:[e.jsx("button",{onClick:U,className:"p-2 text-black hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(_,{size:20})}),e.jsx("button",{onClick:J,className:"text-xs text-meditation-lightBlue hover:text-meditation-mediumBlue transition-colors",children:"Skip for now"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow",children:[e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-40 h-auto"})}),e.jsx("h2",{className:"text-meditation-lightBlue text-lg font-medium mb-8 animate-fade-in",children:"AI Enhanced Experience"}),e.jsx("div",{children:e.jsx("img",{src:"/lovable-uploads/cc30d1e6-ebff-46bd-9792-996ff84ec5cb.png",alt:"Meditation Bear",className:"w-48 h-auto mb-8 animate-pulse-subtle",style:{animationDuration:"3s"}})}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4 animate-slide-up",children:["Our AI learns your preferences to ",e.jsx("br",{})," improve your mindfulness journey ",e.jsx("br",{})," over time"]}),e.jsx("div",{className:"flex-grow"}),e.jsxs(k,{onClick:V,className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white px-8 rounded-full flex items-center animate-scale-in mb-16",children:["Next ",e.jsx(Q,{className:"ml-1 h-4 w-4"})]})]})]},"screen-5"),e.jsxs("div",{className:`flex flex-col items-center justify-between h-full px-8 text-center bg-white ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out`,children:[e.jsxs("div",{className:"w-full flex justify-between items-center pt-6 px-4",children:[e.jsx("button",{onClick:U,className:"p-2 text-black hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(_,{size:20})}),e.jsx("button",{onClick:J,className:"text-xs text-meditation-lightBlue hover:text-meditation-mediumBlue transition-colors",children:"Skip for now"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow",children:[e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-40 h-auto"})}),e.jsx("h2",{className:"text-meditation-lightBlue text-lg font-medium mb-8 animate-fade-in",children:"Progress Tracking & Insights"}),e.jsx("div",{children:e.jsx("img",{src:"/lovable-uploads/cc30d1e6-ebff-46bd-9792-996ff84ec5cb.png",alt:"Meditation Bear",className:"w-48 h-auto mb-8 animate-pulse-subtle",style:{animationDuration:"3s"}})}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4 animate-slide-up",children:["Track your meditation journey and ",e.jsx("br",{})," get personalized insights to ",e.jsx("br",{})," improve"]}),e.jsx("div",{className:"flex-grow"}),e.jsxs(k,{onClick:V,className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white px-8 rounded-full flex items-center animate-scale-in mb-16",children:["Get Started ",e.jsx(Q,{className:"ml-1 h-4 w-4"})]})]})]},"screen-6"),e.jsxs("div",{className:`flex flex-col items-center justify-between h-full px-8 text-center bg-gradient-to-b from-blue-400 via-blue-500 to-blue-700 ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out relative`,children:[e.jsx("div",{className:"w-full flex justify-start items-center pt-6 px-4",children:e.jsx("button",{onClick:U,className:"p-2 text-white hover:bg-blue-600/50 rounded-full transition-colors",children:e.jsx(_,{size:20})})}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow",children:[e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-48 h-auto animate-float mb-3 brightness-0 invert"}),e.jsx("h2",{className:"text-white text-xl font-medium mb-3 animate-fade-in",children:"Find Your Calm, Anytime, Anywhere"}),e.jsx("div",{children:e.jsx("img",{src:"/lovable-uploads/cc30d1e6-ebff-46bd-9792-996ff84ec5cb.png",alt:"Meditation Bear",className:"w-36 h-auto mb-4 animate-pulse-subtle",style:{animationDuration:"3s"}})}),e.jsx("p",{className:"text-sm text-white mb-4 animate-slide-up",children:"Your journey to mindfulness begins here"}),e.jsx(k,{onClick:V,className:"bg-white text-blue-600 hover:bg-blue-50 px-10 py-4 rounded-full flex items-center justify-center animate-pulse-subtle w-full max-w-xs",style:{animationDuration:"2s"},children:e.jsx("span",{className:"text-base",children:"Get Started"})})]}),e.jsx("div",{className:"py-6"})]},"screen-7"),e.jsxs("div",{className:`flex flex-col items-center h-full px-8 text-center bg-gradient-to-b from-blue-400 via-blue-500 to-blue-700 overflow-auto ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out relative`,children:[e.jsx("div",{className:"w-full flex justify-start items-center sticky top-0 pt-6 px-4 bg-gradient-to-b from-blue-400 to-blue-400/80 z-10",children:e.jsx("button",{onClick:U,className:"p-2 text-white hover:bg-blue-600/50 rounded-full transition-colors",children:e.jsx(_,{size:20})})}),e.jsxs("div",{className:"flex flex-col items-center justify-center w-full py-6",children:[e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-48 h-auto mb-3 brightness-0 invert"}),e.jsx("h2",{className:"text-white text-lg font-medium mb-3 animate-fade-in",children:"Find Your Calm, Anytime, Anywhere"}),e.jsx("div",{children:e.jsx("img",{src:"/lovable-uploads/cc30d1e6-ebff-46bd-9792-996ff84ec5cb.png",alt:"Meditation Bear",className:"w-36 h-auto mb-4 animate-pulse-subtle",style:{animationDuration:"3s"}})}),e.jsxs("div",{className:"w-full space-y-3 mt-2 mb-4",children:[e.jsx(k,{onClick:Xe,className:"bg-white text-blue-600 hover:bg-blue-50 rounded-full flex items-center justify-center w-full py-3 animate-slide-up",style:{animationDelay:"0.1s"},children:e.jsx("span",{className:"text-base",children:"Login"})}),e.jsx(k,{onClick:Ze,className:"bg-transparent text-white border-2 border-white hover:bg-white/10 rounded-full flex items-center justify-center w-full py-3 animate-slide-up",style:{animationDelay:"0.2s"},children:e.jsx("span",{className:"text-base",children:"Sign up"})}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 py-2 animate-slide-up",style:{animationDelay:"0.3s"},children:[e.jsx("div",{className:"h-px bg-white/30 flex-grow"}),e.jsx("span",{className:"text-white/80",children:"Or Continue with"}),e.jsx("div",{className:"h-px bg-white/30 flex-grow"})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pb-2 animate-slide-up",style:{animationDelay:"0.4s"},children:[e.jsx("button",{onClick:()=>{const y=window.screenX+(window.outerWidth-500)/2,P=window.screenY+(window.outerHeight-600)/2;window.open("https://accounts.google.com/o/oauth2/auth?client_id=123456789012-abcdefghijklmnopqrstuvwxyz123456.apps.googleusercontent.com&redirect_uri=https://hushhly.vercel.app/auth/google/callback&response_type=code&scope=email%20profile","Google Login",`width=500,height=600,left=${y},top=${P}`)},className:"bg-white p-3 rounded-xl flex items-center justify-center w-20 hover:bg-blue-50 transition-colors",children:e.jsx(jt,{size:20})}),e.jsx("button",{onClick:()=>{const y=window.screenX+(window.outerWidth-500)/2,P=window.screenY+(window.outerHeight-600)/2;window.open("https://appleid.apple.com/auth/authorize?client_id=com.hushhly.service&redirect_uri=https://hushhly.vercel.app/auth/apple/callback&response_type=code&scope=name%20email","Apple Login",`width=500,height=600,left=${y},top=${P}`)},className:"bg-white p-3 rounded-xl flex items-center justify-center w-20 hover:bg-blue-50 transition-colors",children:e.jsx(ee,{size:20,className:"text-black"})})]})]})]})]},"screen-8"),e.jsxs("div",{className:`flex flex-col items-center justify-between h-full px-8 text-center bg-white ${i?"opacity-0 translate-x-20 scale-95":"opacity-100 translate-x-0 scale-100"} transition-all duration-500 ease-out`,children:[e.jsxs("div",{className:"w-full flex justify-between items-center pt-6 px-4",children:[e.jsx("button",{onClick:U,className:"p-2 text-black hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(_,{size:20})}),e.jsx("button",{onClick:J,className:"text-xs text-meditation-lightBlue hover:text-meditation-mediumBlue transition-colors",children:"Skip for now"})]}),e.jsxs("div",{className:"flex flex-col items-center justify-center flex-grow",children:[e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:"/lovable-uploads/cc8b384e-95bb-4fbf-af3b-70bbc53bfd59.png",alt:"Hushhly Logo",className:"w-40 h-auto"})}),e.jsx("h2",{className:"text-meditation-lightBlue text-lg font-medium mb-8 animate-fade-in",children:"Subscription"}),e.jsx("div",{children:e.jsx("img",{src:"/lovable-uploads/cc30d1e6-ebff-46bd-9792-996ff84ec5cb.png",alt:"Meditation Bear",className:"w-48 h-auto mb-8 animate-pulse-subtle",style:{animationDuration:"3s"}})}),e.jsx("p",{className:"text-sm text-gray-600 mb-10 animate-slide-up",children:"Choose the plan that's right for you"}),e.jsxs(k,{onClick:V,className:"bg-gradient-to-r from-blue-500 to-blue-700 hover:from-blue-600 hover:to-blue-800 text-white px-8 rounded-full flex items-center animate-scale-in mb-16",children:["Next ",e.jsx(Q,{className:"ml-1 h-4 w-4"})]})]})]},"screen-9")],it=()=>s===9?null:s>=2&&s<=8?e.jsx("div",{className:"flex space-x-2 absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:[...Array(7)].map((x,w)=>e.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${w+2===s?"bg-blue-500 scale-125":w+2<s?"bg-blue-400 opacity-70":"bg-gray-300"}`},w))}):null;return f.useEffect(()=>{s===n&&t("/quiz")},[s,t,n]),e.jsxs("div",{className:"flex flex-col h-screen overflow-hidden",children:[nt[s],it(),e.jsx(ze,{isOpen:D,onClose:()=>u(!1),onSuccess:Se,onError:ke,title:"Verify Apple Pay",description:"Please authenticate with Face ID to complete your payment"}),e.jsx(rs,{isOpen:Re,onClose:()=>Y(!1),onSuccess:st,onError:at,title:"Verify Payment",description:"Please authenticate with your fingerprint to complete the payment"})]})};export{js as default};
//# sourceMappingURL=SplashScreen-lpIdyF8H.js.map
